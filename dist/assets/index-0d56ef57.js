(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wh={exports:{}},Fo={},Gh={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),Zg=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),n0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),o0=Symbol.for("react.memo"),l0=Symbol.for("react.lazy"),Bu=Symbol.iterator;function a0(t){return t===null||typeof t!="object"?null:(t=Bu&&t[Bu]||t["@@iterator"],typeof t=="function"?t:null)}var Vh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qh=Object.assign,Kh={};function Wr(t,e,n){this.props=t,this.context=e,this.refs=Kh,this.updater=n||Vh}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yh(){}Yh.prototype=Wr.prototype;function hc(t,e,n){this.props=t,this.context=e,this.refs=Kh,this.updater=n||Vh}var fc=hc.prototype=new Yh;fc.constructor=hc;Qh(fc,Wr.prototype);fc.isPureReactComponent=!0;var Hu=Array.isArray,qh=Object.prototype.hasOwnProperty,pc={current:null},Xh={key:!0,ref:!0,__self:!0,__source:!0};function Jh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qh.call(e,r)&&!Xh.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ni,type:t,key:i,ref:o,props:s,_owner:pc.current}}function c0(t,e){return{$$typeof:ni,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ni}function u0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wu=/\/+/g;function pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u0(""+t.key):e.toString(36)}function Oi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ni:case Jg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+pl(o,0):r,Hu(s)?(n="",t!=null&&(n=t.replace(Wu,"$&/")+"/"),Oi(s,e,n,"",function(c){return c})):s!=null&&(mc(s)&&(s=c0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hu(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+pl(i,a);o+=Oi(i,e,n,l,s)}else if(l=a0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+pl(i,a++),o+=Oi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gi(t,e,n){if(t==null)return t;var r=[],s=0;return Oi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function d0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},Li={transition:null},h0={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Li,ReactCurrentOwner:pc};function Zh(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:gi,forEach:function(t,e,n){gi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gi(t,function(){e++}),e},toArray:function(t){return gi(t,function(e){return e})||[]},only:function(t){if(!mc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Wr;Q.Fragment=Zg;Q.Profiler=t0;Q.PureComponent=hc;Q.StrictMode=e0;Q.Suspense=i0;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0;Q.act=Zh;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qh.call(e,l)&&!Xh.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ni,type:t.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:r0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n0,_context:t},t.Consumer=t};Q.createElement=Jh;Q.createFactory=function(t){var e=Jh.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:s0,render:t}};Q.isValidElement=mc;Q.lazy=function(t){return{$$typeof:l0,_payload:{_status:-1,_result:t},_init:d0}};Q.memo=function(t,e){return{$$typeof:o0,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Li.transition;Li.transition={};try{t()}finally{Li.transition=e}};Q.unstable_act=Zh;Q.useCallback=function(t,e){return nt.current.useCallback(t,e)};Q.useContext=function(t){return nt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return nt.current.useEffect(t,e)};Q.useId=function(){return nt.current.useId()};Q.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return nt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};Q.useRef=function(t){return nt.current.useRef(t)};Q.useState=function(t){return nt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return nt.current.useTransition()};Q.version="18.3.1";Gh.exports=Q;var A=Gh.exports;const Te=Xg(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=A,p0=Symbol.for("react.element"),m0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,y0=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v0={key:!0,ref:!0,__self:!0,__source:!0};function ef(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)g0.call(e,r)&&!v0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:p0,type:t,key:i,ref:o,props:s,_owner:y0.current}}Fo.Fragment=m0;Fo.jsx=ef;Fo.jsxs=ef;Wh.exports=Fo;var u=Wh.exports,tf={exports:{}},vt={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var z=R.length;R.push(L);e:for(;0<z;){var J=z-1>>>1,ee=R[J];if(0<s(ee,L))R[J]=L,R[z]=ee,z=J;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var J=0,ee=R.length,se=ee>>>1;J<se;){var Ie=2*(J+1)-1,m=R[Ie],x=Ie+1,N=R[x];if(0>s(m,z))x<ee&&0>s(N,m)?(R[J]=N,R[x]=z,J=x):(R[J]=m,R[Ie]=z,J=Ie);else if(x<ee&&0>s(N,z))R[J]=N,R[x]=z,J=x;else break e}}return L}function s(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function C(R){if(w=!1,g(R),!y)if(n(l)!==null)y=!0,ye(I);else{var L=n(c);L!==null&&ne(C,L.startTime-R)}}function I(R,L){y=!1,w&&(w=!1,_(M),M=-1),v=!0;var z=f;try{for(g(L),h=n(l);h!==null&&(!(h.expirationTime>L)||R&&!Y());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ee=J(h.expirationTime<=L);L=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),g(L)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var Ie=n(c);Ie!==null&&ne(C,Ie.startTime-L),se=!1}return se}finally{h=null,f=z,v=!1}}var P=!1,j=null,M=-1,K=5,U=-1;function Y(){return!(t.unstable_now()-U<K)}function Ne(){if(j!==null){var R=t.unstable_now();U=R;var L=!0;try{L=j(!0,R)}finally{L?Oe():(P=!1,j=null)}}else P=!1}var Oe;if(typeof p=="function")Oe=function(){p(Ne)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,we=ke.port2;ke.port1.onmessage=Ne,Oe=function(){we.postMessage(null)}}else Oe=function(){E(Ne,0)};function ye(R){j=R,P||(P=!0,Oe())}function ne(R,L){M=E(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ye(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(R,L,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,R={id:d++,callback:L,priorityLevel:R,startTime:z,expirationTime:ee,sortIndex:-1},z>J?(R.sortIndex=z,e(c,R),n(l)===null&&R===n(c)&&(w?(_(M),M=-1):w=!0,ne(C,z-J))):(R.sortIndex=ee,e(l,R),y||v||(y=!0,ye(I))),R},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(R){var L=f;return function(){var z=f;f=L;try{return R.apply(this,arguments)}finally{f=z}}}})(rf);nf.exports=rf;var _0=nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=A,yt=_0;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sf=new Set,bs={};function rr(t,e){jr(t,e),jr(t+"Capture",e)}function jr(t,e){for(bs[t]=e,t=0;t<e.length;t++)sf.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gu={},Vu={};function C0(t){return Xl.call(Vu,t)?!0:Xl.call(Gu,t)?!1:w0.test(t)?Vu[t]=!0:(Gu[t]=!0,!1)}function N0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E0(t,e,n,r){if(e===null||typeof e>"u"||N0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gc=/[\-:]([a-z])/g;function yc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gc,yc);We[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gc,yc);We[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gc,yc);We[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vc(t,e,n,r){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(E0(e,n,s,r)&&(n=null),r||s===null?C0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=x0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yi=Symbol.for("react.element"),ar=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),lf=Symbol.for("react.context"),xc=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),wc=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),Qu=Symbol.iterator;function Jr(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,ml;function us(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var gl=!1;function yl(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?us(t):""}function S0(t){switch(t.tag){case 5:return us(t.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return t=yl(t.type,!1),t;case 11:return t=yl(t.type.render,!1),t;case 1:return t=yl(t.type,!0),t;default:return""}}function ta(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cr:return"Fragment";case ar:return"Portal";case Jl:return"Profiler";case _c:return"StrictMode";case Zl:return"Suspense";case ea:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lf:return(t.displayName||"Context")+".Consumer";case of:return(t._context.displayName||"Context")+".Provider";case xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wc:return e=t.displayName||null,e!==null?e:ta(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return ta(t(e))}catch{}}return null}function k0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(e);case 8:return e===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I0(t){var e=cf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vi(t){t._valueTracker||(t._valueTracker=I0(t))}function uf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function na(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ku(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function df(t,e){e=e.checked,e!=null&&vc(t,"checked",e,!1)}function ra(t,e){df(t,e);var n=bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sa(t,e.type,n):e.hasOwnProperty("defaultValue")&&sa(t,e.type,bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sa(t,e,n){(e!=="number"||Ki(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ds=Array.isArray;function Cr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ia(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(ds(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bn(n)}}function hf(t,e){var n=bn(e.value),r=bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ff(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ff(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _i,pf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_i.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ts(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b0=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){b0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function mf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function gf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var T0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(t,e){if(e){if(T0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function aa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function Cc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ua=null,Nr=null,Er=null;function Ju(t){if(t=ii(t)){if(typeof ua!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Ho(e),ua(t.stateNode,t.type,e))}}function yf(t){Nr?Er?Er.push(t):Er=[t]:Nr=t}function vf(){if(Nr){var t=Nr,e=Er;if(Er=Nr=null,Ju(t),e)for(t=0;t<e.length;t++)Ju(e[t])}}function _f(t,e){return t(e)}function xf(){}var vl=!1;function wf(t,e,n){if(vl)return t(e,n);vl=!0;try{return _f(t,e,n)}finally{vl=!1,(Nr!==null||Er!==null)&&(xf(),vf())}}function Rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ho(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var da=!1;if(en)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){da=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{da=!1}function R0(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gs=!1,Yi=null,qi=!1,ha=null,P0={onError:function(t){gs=!0,Yi=t}};function j0(t,e,n,r,s,i,o,a,l){gs=!1,Yi=null,R0.apply(P0,arguments)}function M0(t,e,n,r,s,i,o,a,l){if(j0.apply(this,arguments),gs){if(gs){var c=Yi;gs=!1,Yi=null}else throw Error(k(198));qi||(qi=!0,ha=c)}}function sr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zu(t){if(sr(t)!==t)throw Error(k(188))}function A0(t){var e=t.alternate;if(!e){if(e=sr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Zu(s),t;if(i===r)return Zu(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Nf(t){return t=A0(t),t!==null?Ef(t):null}function Ef(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ef(t);if(e!==null)return e;t=t.sibling}return null}var Sf=yt.unstable_scheduleCallback,ed=yt.unstable_cancelCallback,D0=yt.unstable_shouldYield,O0=yt.unstable_requestPaint,Ce=yt.unstable_now,L0=yt.unstable_getCurrentPriorityLevel,Nc=yt.unstable_ImmediatePriority,kf=yt.unstable_UserBlockingPriority,Xi=yt.unstable_NormalPriority,F0=yt.unstable_LowPriority,If=yt.unstable_IdlePriority,zo=null,Ht=null;function z0(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(zo,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:B0,U0=Math.log,$0=Math.LN2;function B0(t){return t>>>=0,t===0?32:31-(U0(t)/$0|0)|0}var xi=64,wi=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ji(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hs(a):(i&=o,i!==0&&(r=hs(i)))}else o=n&~s,o!==0?r=hs(o):i!==0&&(r=hs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),s=1<<n,r|=t[n],e&=~s;return r}function H0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-At(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=H0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=xi;return xi<<=1,!(xi&4194240)&&(xi=64),t}function _l(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ri(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function G0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-At(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ec(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function Tf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rf,Sc,Pf,jf,Mf,pa=!1,Ci=[],gn=null,yn=null,vn=null,Ps=new Map,js=new Map,hn=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function es(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ii(e),e!==null&&Sc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Q0(t,e,n,r,s){switch(e){case"focusin":return gn=es(gn,t,e,n,r,s),!0;case"dragenter":return yn=es(yn,t,e,n,r,s),!0;case"mouseover":return vn=es(vn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ps.set(i,es(Ps.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,js.set(i,es(js.get(i)||null,t,e,n,r,s)),!0}return!1}function Af(t){var e=Un(t.target);if(e!==null){var n=sr(e);if(n!==null){if(e=n.tag,e===13){if(e=Cf(n),e!==null){t.blockedOn=e,Mf(t.priority,function(){Pf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ma(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ca=r,n.target.dispatchEvent(r),ca=null}else return e=ii(n),e!==null&&Sc(e),t.blockedOn=n,!1;e.shift()}return!0}function nd(t,e,n){Fi(t)&&n.delete(e)}function K0(){pa=!1,gn!==null&&Fi(gn)&&(gn=null),yn!==null&&Fi(yn)&&(yn=null),vn!==null&&Fi(vn)&&(vn=null),Ps.forEach(nd),js.forEach(nd)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,pa||(pa=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,K0)))}function Ms(t){function e(s){return ts(s,t)}if(0<Ci.length){ts(Ci[0],t);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&ts(gn,t),yn!==null&&ts(yn,t),vn!==null&&ts(vn,t),Ps.forEach(e),js.forEach(e),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Af(n),n.blockedOn===null&&hn.shift()}var Sr=ln.ReactCurrentBatchConfig,Zi=!0;function Y0(t,e,n,r){var s=te,i=Sr.transition;Sr.transition=null;try{te=1,kc(t,e,n,r)}finally{te=s,Sr.transition=i}}function q0(t,e,n,r){var s=te,i=Sr.transition;Sr.transition=null;try{te=4,kc(t,e,n,r)}finally{te=s,Sr.transition=i}}function kc(t,e,n,r){if(Zi){var s=ma(t,e,n,r);if(s===null)Tl(t,e,r,eo,n),td(t,r);else if(Q0(s,t,e,n,r))r.stopPropagation();else if(td(t,r),e&4&&-1<V0.indexOf(t)){for(;s!==null;){var i=ii(s);if(i!==null&&Rf(i),i=ma(t,e,n,r),i===null&&Tl(t,e,r,eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tl(t,e,r,null,n)}}var eo=null;function ma(t,e,n,r){if(eo=null,t=Cc(r),t=Un(t),t!==null)if(e=sr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eo=t,null}function Df(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L0()){case Nc:return 1;case kf:return 4;case Xi:case F0:return 16;case If:return 536870912;default:return 16}default:return 16}}var pn=null,Ic=null,zi=null;function Of(){if(zi)return zi;var t,e=Ic,n=e.length,r,s="value"in pn?pn.value:pn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return zi=s.slice(t,1<r?1-r:void 0)}function Ui(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function rd(){return!1}function _t(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:rd,this.isPropagationStopped=rd,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),e}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=_t(Gr),si=ge({},Gr,{view:0,detail:0}),X0=_t(si),xl,wl,ns,Uo=ge({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ns&&(ns&&t.type==="mousemove"?(xl=t.screenX-ns.screenX,wl=t.screenY-ns.screenY):wl=xl=0,ns=t),xl)},movementY:function(t){return"movementY"in t?t.movementY:wl}}),sd=_t(Uo),J0=ge({},Uo,{dataTransfer:0}),Z0=_t(J0),ey=ge({},si,{relatedTarget:0}),Cl=_t(ey),ty=ge({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=_t(ty),ry=ge({},Gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sy=_t(ry),iy=ge({},Gr,{data:0}),id=_t(iy),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ay[t])?!!e[t]:!1}function Tc(){return cy}var uy=ge({},si,{key:function(t){if(t.key){var e=oy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ly[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(t){return t.type==="keypress"?Ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dy=_t(uy),hy=ge({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=_t(hy),fy=ge({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),py=_t(fy),my=ge({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=_t(my),yy=ge({},Uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vy=_t(yy),_y=[9,13,27,32],Rc=en&&"CompositionEvent"in window,ys=null;en&&"documentMode"in document&&(ys=document.documentMode);var xy=en&&"TextEvent"in window&&!ys,Lf=en&&(!Rc||ys&&8<ys&&11>=ys),ld=String.fromCharCode(32),ad=!1;function Ff(t,e){switch(t){case"keyup":return _y.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function wy(t,e){switch(t){case"compositionend":return zf(e);case"keypress":return e.which!==32?null:(ad=!0,ld);case"textInput":return t=e.data,t===ld&&ad?null:t;default:return null}}function Cy(t,e){if(ur)return t==="compositionend"||!Rc&&Ff(t,e)?(t=Of(),zi=Ic=pn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lf&&e.locale!=="ko"?null:e.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ny[t.type]:e==="textarea"}function Uf(t,e,n,r){yf(r),e=to(e,"onChange"),0<e.length&&(n=new bc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,As=null;function Ey(t){Xf(t,0)}function $o(t){var e=fr(t);if(uf(e))return t}function Sy(t,e){if(t==="change")return e}var $f=!1;if(en){var Nl;if(en){var El="oninput"in document;if(!El){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),El=typeof ud.oninput=="function"}Nl=El}else Nl=!1;$f=Nl&&(!document.documentMode||9<document.documentMode)}function dd(){vs&&(vs.detachEvent("onpropertychange",Bf),As=vs=null)}function Bf(t){if(t.propertyName==="value"&&$o(As)){var e=[];Uf(e,As,t,Cc(t)),wf(Ey,e)}}function ky(t,e,n){t==="focusin"?(dd(),vs=e,As=n,vs.attachEvent("onpropertychange",Bf)):t==="focusout"&&dd()}function Iy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $o(As)}function by(t,e){if(t==="click")return $o(e)}function Ty(t,e){if(t==="input"||t==="change")return $o(e)}function Ry(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:Ry;function Ds(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xl.call(e,s)||!Lt(t[s],e[s]))return!1}return!0}function hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,e){var n=hd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hd(n)}}function Hf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wf(){for(var t=window,e=Ki();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ki(t.document)}return e}function Pc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Py(t){var e=Wf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hf(n.ownerDocument.documentElement,n)){if(r!==null&&Pc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=fd(n,i);var o=fd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jy=en&&"documentMode"in document&&11>=document.documentMode,dr=null,ga=null,_s=null,ya=!1;function pd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ya||dr==null||dr!==Ki(r)||(r=dr,"selectionStart"in r&&Pc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Ds(_s,r)||(_s=r,r=to(ga,"onSelect"),0<r.length&&(e=new bc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hr={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Sl={},Gf={};en&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Bo(t){if(Sl[t])return Sl[t];if(!hr[t])return t;var e=hr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gf)return Sl[t]=e[n];return t}var Vf=Bo("animationend"),Qf=Bo("animationiteration"),Kf=Bo("animationstart"),Yf=Bo("transitionend"),qf=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){qf.set(t,e),rr(e,[t])}for(var kl=0;kl<md.length;kl++){var Il=md[kl],My=Il.toLowerCase(),Ay=Il[0].toUpperCase()+Il.slice(1);Mn(My,"on"+Ay)}Mn(Vf,"onAnimationEnd");Mn(Qf,"onAnimationIteration");Mn(Kf,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Yf,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function gd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,M0(r,e,void 0,t),t.currentTarget=null}function Xf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,c),i=l}}}if(qi)throw t=ha,qi=!1,ha=null,t}function ue(t,e){var n=e[Ca];n===void 0&&(n=e[Ca]=new Set);var r=t+"__bubble";n.has(r)||(Jf(e,t,2,!1),n.add(r))}function bl(t,e,n){var r=0;e&&(r|=4),Jf(n,t,r,e)}var Si="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[Si]){t[Si]=!0,sf.forEach(function(n){n!=="selectionchange"&&(Dy.has(n)||bl(n,!1,t),bl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Si]||(e[Si]=!0,bl("selectionchange",!1,e))}}function Jf(t,e,n,r){switch(Df(e)){case 1:var s=Y0;break;case 4:s=q0;break;default:s=kc}n=s.bind(null,e,n,t),s=void 0,!da||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Un(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}wf(function(){var c=i,d=Cc(n),h=[];e:{var f=qf.get(t);if(f!==void 0){var v=bc,y=t;switch(t){case"keypress":if(Ui(n)===0)break e;case"keydown":case"keyup":v=dy;break;case"focusin":y="focus",v=Cl;break;case"focusout":y="blur",v=Cl;break;case"beforeblur":case"afterblur":v=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=py;break;case Vf:case Qf:case Kf:v=ny;break;case Yf:v=gy;break;case"scroll":v=X0;break;case"wheel":v=vy;break;case"copy":case"cut":case"paste":v=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=od}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,g;p!==null;){g=p;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,_!==null&&(C=Rs(p,_),C!=null&&w.push(Ls(p,C,g)))),E)break;p=p.return}0<w.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==ca&&(y=n.relatedTarget||n.fromElement)&&(Un(y)||y[tn]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Un(y):null,y!==null&&(E=sr(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=sd,C="onMouseLeave",_="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=od,C="onPointerLeave",_="onPointerEnter",p="pointer"),E=v==null?f:fr(v),g=y==null?f:fr(y),f=new w(C,p+"leave",v,n,d),f.target=E,f.relatedTarget=g,C=null,Un(d)===c&&(w=new w(_,p+"enter",y,n,d),w.target=g,w.relatedTarget=E,C=w),E=C,v&&y)t:{for(w=v,_=y,p=0,g=w;g;g=or(g))p++;for(g=0,C=_;C;C=or(C))g++;for(;0<p-g;)w=or(w),p--;for(;0<g-p;)_=or(_),g--;for(;p--;){if(w===_||_!==null&&w===_.alternate)break t;w=or(w),_=or(_)}w=null}else w=null;v!==null&&yd(h,f,v,w,!1),y!==null&&E!==null&&yd(h,E,y,w,!0)}}e:{if(f=c?fr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var I=Sy;else if(cd(f))if($f)I=Ty;else{I=Iy;var P=ky}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=by);if(I&&(I=I(t,c))){Uf(h,I,n,d);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&sa(f,"number",f.value)}switch(P=c?fr(c):window,t){case"focusin":(cd(P)||P.contentEditable==="true")&&(dr=P,ga=c,_s=null);break;case"focusout":_s=ga=dr=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,pd(h,n,d);break;case"selectionchange":if(jy)break;case"keydown":case"keyup":pd(h,n,d)}var j;if(Rc)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ur?Ff(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Lf&&n.locale!=="ko"&&(ur||M!=="onCompositionStart"?M==="onCompositionEnd"&&ur&&(j=Of()):(pn=d,Ic="value"in pn?pn.value:pn.textContent,ur=!0)),P=to(c,M),0<P.length&&(M=new id(M,t,null,n,d),h.push({event:M,listeners:P}),j?M.data=j:(j=zf(n),j!==null&&(M.data=j)))),(j=xy?wy(t,n):Cy(t,n))&&(c=to(c,"onBeforeInput"),0<c.length&&(d=new id("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}Xf(h,e)})}function Ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function to(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rs(t,n),i!=null&&r.unshift(Ls(t,i,s)),i=Rs(t,e),i!=null&&r.push(Ls(t,i,s))),t=t.return}return r}function or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Rs(n,i),l!=null&&o.unshift(Ls(n,l,a))):s||(l=Rs(n,i),l!=null&&o.push(Ls(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Oy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function vd(t){return(typeof t=="string"?t:""+t).replace(Oy,`
`).replace(Ly,"")}function ki(t,e,n){if(e=vd(e),vd(t)!==e&&n)throw Error(k(425))}function no(){}var va=null,_a=null;function xa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,_d=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof _d<"u"?function(t){return _d.resolve(null).then(t).catch(Uy)}:wa;function Uy(t){setTimeout(function(){throw t})}function Rl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ms(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ms(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Vr,Fs="__reactProps$"+Vr,tn="__reactContainer$"+Vr,Ca="__reactEvents$"+Vr,$y="__reactListeners$"+Vr,By="__reactHandles$"+Vr;function Un(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xd(t);t!==null;){if(n=t[Ut])return n;t=xd(t)}return e}t=n,n=t.parentNode}return null}function ii(t){return t=t[Ut]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Ho(t){return t[Fs]||null}var Na=[],pr=-1;function An(t){return{current:t}}function he(t){0>pr||(t.current=Na[pr],Na[pr]=null,pr--)}function ce(t,e){pr++,Na[pr]=t.current,t.current=e}var Tn={},Xe=An(Tn),lt=An(!1),Kn=Tn;function Mr(t,e){var n=t.type.contextTypes;if(!n)return Tn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function ro(){he(lt),he(Xe)}function wd(t,e,n){if(Xe.current!==Tn)throw Error(k(168));ce(Xe,e),ce(lt,n)}function Zf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,k0(t)||"Unknown",s));return ge({},n,r)}function so(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,Kn=Xe.current,ce(Xe,t),ce(lt,lt.current),!0}function Cd(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Zf(t,e,Kn),r.__reactInternalMemoizedMergedChildContext=t,he(lt),he(Xe),ce(Xe,t)):he(lt),ce(lt,n)}var Kt=null,Wo=!1,Pl=!1;function ep(t){Kt===null?Kt=[t]:Kt.push(t)}function Hy(t){Wo=!0,ep(t)}function Dn(){if(!Pl&&Kt!==null){Pl=!0;var t=0,e=te;try{var n=Kt;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,Wo=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(t+1)),Sf(Nc,Dn),s}finally{te=e,Pl=!1}}return null}var mr=[],gr=0,io=null,oo=0,xt=[],wt=0,Yn=null,Yt=1,qt="";function On(t,e){mr[gr++]=oo,mr[gr++]=io,io=t,oo=e}function tp(t,e,n){xt[wt++]=Yt,xt[wt++]=qt,xt[wt++]=Yn,Yn=t;var r=Yt;t=qt;var s=32-At(r)-1;r&=~(1<<s),n+=1;var i=32-At(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yt=1<<32-At(e)+s|n<<s|r,qt=i+t}else Yt=1<<i|n<<s|r,qt=t}function jc(t){t.return!==null&&(On(t,1),tp(t,1,0))}function Mc(t){for(;t===io;)io=mr[--gr],mr[gr]=null,oo=mr[--gr],mr[gr]=null;for(;t===Yn;)Yn=xt[--wt],xt[wt]=null,qt=xt[--wt],xt[wt]=null,Yt=xt[--wt],xt[wt]=null}var gt=null,mt=null,fe=!1,Tt=null;function np(t,e){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yn!==null?{id:Yt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,mt=null,!0):!1;default:return!1}}function Ea(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sa(t){if(fe){var e=mt;if(e){var n=e;if(!Nd(t,e)){if(Ea(t))throw Error(k(418));e=_n(n.nextSibling);var r=gt;e&&Nd(t,e)?np(r,n):(t.flags=t.flags&-4097|2,fe=!1,gt=t)}}else{if(Ea(t))throw Error(k(418));t.flags=t.flags&-4097|2,fe=!1,gt=t}}}function Ed(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Ii(t){if(t!==gt)return!1;if(!fe)return Ed(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xa(t.type,t.memoizedProps)),e&&(e=mt)){if(Ea(t))throw rp(),Error(k(418));for(;e;)np(t,e),e=_n(e.nextSibling)}if(Ed(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?_n(t.stateNode.nextSibling):null;return!0}function rp(){for(var t=mt;t;)t=_n(t.nextSibling)}function Ar(){mt=gt=null,fe=!1}function Ac(t){Tt===null?Tt=[t]:Tt.push(t)}var Wy=ln.ReactCurrentBatchConfig;function rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function bi(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sd(t){var e=t._init;return e(t._payload)}function sp(t){function e(_,p){if(t){var g=_.deletions;g===null?(_.deletions=[p],_.flags|=16):g.push(p)}}function n(_,p){if(!t)return null;for(;p!==null;)e(_,p),p=p.sibling;return null}function r(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function s(_,p){return _=Nn(_,p),_.index=0,_.sibling=null,_}function i(_,p,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<p?(_.flags|=2,p):g):(_.flags|=2,p)):(_.flags|=1048576,p)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,p,g,C){return p===null||p.tag!==6?(p=Fl(g,_.mode,C),p.return=_,p):(p=s(p,g),p.return=_,p)}function l(_,p,g,C){var I=g.type;return I===cr?d(_,p,g.props.children,C,g.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===un&&Sd(I)===p.type)?(C=s(p,g.props),C.ref=rs(_,p,g),C.return=_,C):(C=Qi(g.type,g.key,g.props,null,_.mode,C),C.ref=rs(_,p,g),C.return=_,C)}function c(_,p,g,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=zl(g,_.mode,C),p.return=_,p):(p=s(p,g.children||[]),p.return=_,p)}function d(_,p,g,C,I){return p===null||p.tag!==7?(p=Vn(g,_.mode,C,I),p.return=_,p):(p=s(p,g),p.return=_,p)}function h(_,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Fl(""+p,_.mode,g),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case yi:return g=Qi(p.type,p.key,p.props,null,_.mode,g),g.ref=rs(_,null,p),g.return=_,g;case ar:return p=zl(p,_.mode,g),p.return=_,p;case un:var C=p._init;return h(_,C(p._payload),g)}if(ds(p)||Jr(p))return p=Vn(p,_.mode,g,null),p.return=_,p;bi(_,p)}return null}function f(_,p,g,C){var I=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return I!==null?null:a(_,p,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yi:return g.key===I?l(_,p,g,C):null;case ar:return g.key===I?c(_,p,g,C):null;case un:return I=g._init,f(_,p,I(g._payload),C)}if(ds(g)||Jr(g))return I!==null?null:d(_,p,g,C,null);bi(_,g)}return null}function v(_,p,g,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(g)||null,a(p,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yi:return _=_.get(C.key===null?g:C.key)||null,l(p,_,C,I);case ar:return _=_.get(C.key===null?g:C.key)||null,c(p,_,C,I);case un:var P=C._init;return v(_,p,g,P(C._payload),I)}if(ds(C)||Jr(C))return _=_.get(g)||null,d(p,_,C,I,null);bi(p,C)}return null}function y(_,p,g,C){for(var I=null,P=null,j=p,M=p=0,K=null;j!==null&&M<g.length;M++){j.index>M?(K=j,j=null):K=j.sibling;var U=f(_,j,g[M],C);if(U===null){j===null&&(j=K);break}t&&j&&U.alternate===null&&e(_,j),p=i(U,p,M),P===null?I=U:P.sibling=U,P=U,j=K}if(M===g.length)return n(_,j),fe&&On(_,M),I;if(j===null){for(;M<g.length;M++)j=h(_,g[M],C),j!==null&&(p=i(j,p,M),P===null?I=j:P.sibling=j,P=j);return fe&&On(_,M),I}for(j=r(_,j);M<g.length;M++)K=v(j,_,M,g[M],C),K!==null&&(t&&K.alternate!==null&&j.delete(K.key===null?M:K.key),p=i(K,p,M),P===null?I=K:P.sibling=K,P=K);return t&&j.forEach(function(Y){return e(_,Y)}),fe&&On(_,M),I}function w(_,p,g,C){var I=Jr(g);if(typeof I!="function")throw Error(k(150));if(g=I.call(g),g==null)throw Error(k(151));for(var P=I=null,j=p,M=p=0,K=null,U=g.next();j!==null&&!U.done;M++,U=g.next()){j.index>M?(K=j,j=null):K=j.sibling;var Y=f(_,j,U.value,C);if(Y===null){j===null&&(j=K);break}t&&j&&Y.alternate===null&&e(_,j),p=i(Y,p,M),P===null?I=Y:P.sibling=Y,P=Y,j=K}if(U.done)return n(_,j),fe&&On(_,M),I;if(j===null){for(;!U.done;M++,U=g.next())U=h(_,U.value,C),U!==null&&(p=i(U,p,M),P===null?I=U:P.sibling=U,P=U);return fe&&On(_,M),I}for(j=r(_,j);!U.done;M++,U=g.next())U=v(j,_,M,U.value,C),U!==null&&(t&&U.alternate!==null&&j.delete(U.key===null?M:U.key),p=i(U,p,M),P===null?I=U:P.sibling=U,P=U);return t&&j.forEach(function(Ne){return e(_,Ne)}),fe&&On(_,M),I}function E(_,p,g,C){if(typeof g=="object"&&g!==null&&g.type===cr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case yi:e:{for(var I=g.key,P=p;P!==null;){if(P.key===I){if(I=g.type,I===cr){if(P.tag===7){n(_,P.sibling),p=s(P,g.props.children),p.return=_,_=p;break e}}else if(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===un&&Sd(I)===P.type){n(_,P.sibling),p=s(P,g.props),p.ref=rs(_,P,g),p.return=_,_=p;break e}n(_,P);break}else e(_,P);P=P.sibling}g.type===cr?(p=Vn(g.props.children,_.mode,C,g.key),p.return=_,_=p):(C=Qi(g.type,g.key,g.props,null,_.mode,C),C.ref=rs(_,p,g),C.return=_,_=C)}return o(_);case ar:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(_,p.sibling),p=s(p,g.children||[]),p.return=_,_=p;break e}else{n(_,p);break}else e(_,p);p=p.sibling}p=zl(g,_.mode,C),p.return=_,_=p}return o(_);case un:return P=g._init,E(_,p,P(g._payload),C)}if(ds(g))return y(_,p,g,C);if(Jr(g))return w(_,p,g,C);bi(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(_,p.sibling),p=s(p,g),p.return=_,_=p):(n(_,p),p=Fl(g,_.mode,C),p.return=_,_=p),o(_)):n(_,p)}return E}var Dr=sp(!0),ip=sp(!1),lo=An(null),ao=null,yr=null,Dc=null;function Oc(){Dc=yr=ao=null}function Lc(t){var e=lo.current;he(lo),t._currentValue=e}function ka(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kr(t,e){ao=t,Dc=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Dc!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(ao===null)throw Error(k(308));yr=t,ao.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var $n=null;function Fc(t){$n===null?$n=[t]:$n.push(t)}function op(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fc(e)):(n.next=s.next,s.next=n),e.interleaved=n,nn(t,r)}function nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,nn(t,n)}return s=r.interleaved,s===null?(e.next=e,Fc(r)):(e.next=s.next,s.next=e),r.interleaved=e,nn(t,n)}function $i(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ec(t,n)}}function kd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function co(t,e,n,r){var s=t.updateQueue;dn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=ge({},h,f);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xn|=o,t.lanes=o,t.memoizedState=h}}function Id(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var oi={},Wt=An(oi),zs=An(oi),Us=An(oi);function Bn(t){if(t===oi)throw Error(k(174));return t}function Uc(t,e){switch(ce(Us,e),ce(zs,t),ce(Wt,oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oa(e,t)}he(Wt),ce(Wt,e)}function Or(){he(Wt),he(zs),he(Us)}function ap(t){Bn(Us.current);var e=Bn(Wt.current),n=oa(e,t.type);e!==n&&(ce(zs,t),ce(Wt,n))}function $c(t){zs.current===t&&(he(Wt),he(zs))}var pe=An(0);function uo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jl=[];function Bc(){for(var t=0;t<jl.length;t++)jl[t]._workInProgressVersionPrimary=null;jl.length=0}var Bi=ln.ReactCurrentDispatcher,Ml=ln.ReactCurrentBatchConfig,qn=0,me=null,Re=null,Fe=null,ho=!1,xs=!1,$s=0,Gy=0;function Qe(){throw Error(k(321))}function Hc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function Wc(t,e,n,r,s,i){if(qn=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bi.current=t===null||t.memoizedState===null?Yy:qy,t=n(r,s),xs){i=0;do{if(xs=!1,$s=0,25<=i)throw Error(k(301));i+=1,Fe=Re=null,e.updateQueue=null,Bi.current=Xy,t=n(r,s)}while(xs)}if(Bi.current=fo,e=Re!==null&&Re.next!==null,qn=0,Fe=Re=me=null,ho=!1,e)throw Error(k(300));return t}function Gc(){var t=$s!==0;return $s=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?me.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function St(){if(Re===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Fe===null?me.memoizedState:Fe.next;if(e!==null)Fe=e,Re=t;else{if(t===null)throw Error(k(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Fe===null?me.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Bs(t,e){return typeof e=="function"?e(t):e}function Al(t){var e=St(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((qn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,me.lanes|=d,Xn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Lt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dl(t){var e=St(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Lt(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cp(){}function up(t,e){var n=me,r=St(),s=e(),i=!Lt(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,Vc(fp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Hs(9,hp.bind(null,n,r,s,e),void 0,null),$e===null)throw Error(k(349));qn&30||dp(n,e,s)}return s}function dp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hp(t,e,n,r){e.value=n,e.getSnapshot=r,pp(e)&&mp(t)}function fp(t,e,n){return n(function(){pp(e)&&mp(t)})}function pp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function mp(t){var e=nn(t,1);e!==null&&Dt(e,t,1,-1)}function bd(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=Ky.bind(null,me,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gp(){return St().memoizedState}function Hi(t,e,n,r){var s=zt();me.flags|=t,s.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function Go(t,e,n,r){var s=St();r=r===void 0?null:r;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,r!==null&&Hc(r,o.deps)){s.memoizedState=Hs(e,n,i,r);return}}me.flags|=t,s.memoizedState=Hs(1|e,n,i,r)}function Td(t,e){return Hi(8390656,8,t,e)}function Vc(t,e){return Go(2048,8,t,e)}function yp(t,e){return Go(4,2,t,e)}function vp(t,e){return Go(4,4,t,e)}function _p(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xp(t,e,n){return n=n!=null?n.concat([t]):null,Go(4,4,_p.bind(null,e,t),n)}function Qc(){}function wp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Np(t,e,n){return qn&21?(Lt(n,e)||(n=bf(),me.lanes|=n,Xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function Vy(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Ml.transition;Ml.transition={};try{t(!1),e()}finally{te=n,Ml.transition=r}}function Ep(){return St().memoizedState}function Qy(t,e,n){var r=Cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sp(t))kp(e,n);else if(n=op(t,e,n,r),n!==null){var s=tt();Dt(n,t,r,s),Ip(n,e,r)}}function Ky(t,e,n){var r=Cn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sp(t))kp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Lt(a,o)){var l=e.interleaved;l===null?(s.next=s,Fc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=op(t,e,s,r),n!==null&&(s=tt(),Dt(n,t,r,s),Ip(n,e,r))}}function Sp(t){var e=t.alternate;return t===me||e!==null&&e===me}function kp(t,e){xs=ho=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ip(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ec(t,n)}}var fo={readContext:Et,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Yy={readContext:Et,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Td,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hi(4194308,4,_p.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hi(4,2,t,e)},useMemo:function(t,e){var n=zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qy.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:bd,useDebugValue:Qc,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=bd(!1),e=t[0];return t=Vy.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=zt();if(fe){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),$e===null)throw Error(k(349));qn&30||dp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Td(fp.bind(null,r,i,t),[t]),r.flags|=2048,Hs(9,hp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zt(),e=$e.identifierPrefix;if(fe){var n=qt,r=Yt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qy={readContext:Et,useCallback:wp,useContext:Et,useEffect:Vc,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Cp,useReducer:Al,useRef:gp,useState:function(){return Al(Bs)},useDebugValue:Qc,useDeferredValue:function(t){var e=St();return Np(e,Re.memoizedState,t)},useTransition:function(){var t=Al(Bs)[0],e=St().memoizedState;return[t,e]},useMutableSource:cp,useSyncExternalStore:up,useId:Ep,unstable_isNewReconciler:!1},Xy={readContext:Et,useCallback:wp,useContext:Et,useEffect:Vc,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Cp,useReducer:Dl,useRef:gp,useState:function(){return Dl(Bs)},useDebugValue:Qc,useDeferredValue:function(t){var e=St();return Re===null?e.memoizedState=t:Np(e,Re.memoizedState,t)},useTransition:function(){var t=Dl(Bs)[0],e=St().memoizedState;return[t,e]},useMutableSource:cp,useSyncExternalStore:up,useId:Ep,unstable_isNewReconciler:!1};function It(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ia(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=Cn(t),i=Jt(r,s);i.payload=e,n!=null&&(i.callback=n),e=xn(t,i,s),e!==null&&(Dt(e,t,s,r),$i(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=Cn(t),i=Jt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xn(t,i,s),e!==null&&(Dt(e,t,s,r),$i(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=Cn(t),s=Jt(n,r);s.tag=2,e!=null&&(s.callback=e),e=xn(t,s,r),e!==null&&(Dt(e,t,r,n),$i(e,t,r))}};function Rd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ds(n,r)||!Ds(s,i):!0}function bp(t,e,n){var r=!1,s=Tn,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=at(e)?Kn:Xe.current,r=e.contextTypes,i=(r=r!=null)?Mr(t,s):Tn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Pd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function ba(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=at(e)?Kn:Xe.current,s.context=Mr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ia(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vo.enqueueReplaceState(s,s.state,null),co(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lr(t,e){try{var n="",r=e;do n+=S0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ol(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ta(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function Tp(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mo||(mo=!0,za=r),Ta(t,e)},n}function Rp(t,e,n){n=Jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ta(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ta(t,e),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jy;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hv.bind(null,t,e,n),e.then(t,t))}function Md(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ad(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,xn(n,e,1))),n.lanes|=1),t)}var Zy=ln.ReactCurrentOwner,it=!1;function Ze(t,e,n,r){e.child=t===null?ip(e,null,n,r):Dr(e,t.child,n,r)}function Dd(t,e,n,r,s){n=n.render;var i=e.ref;return kr(e,s),r=Wc(t,e,n,r,i,s),n=Gc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rn(t,e,s)):(fe&&n&&jc(e),e.flags|=1,Ze(t,e,r,s),e.child)}function Od(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Pp(t,e,i,r,s)):(t=Qi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&t.ref===e.ref)return rn(t,e,s)}return e.flags|=1,t=Nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Pp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ds(i,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,rn(t,e,s)}return Ra(t,e,n,r,s)}function jp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(_r,pt),pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(_r,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(_r,pt),pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ce(_r,pt),pt|=r;return Ze(t,e,s,n),e.child}function Mp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ra(t,e,n,r,s){var i=at(n)?Kn:Xe.current;return i=Mr(e,i),kr(e,s),n=Wc(t,e,n,r,i,s),r=Gc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rn(t,e,s)):(fe&&r&&jc(e),e.flags|=1,Ze(t,e,n,s),e.child)}function Ld(t,e,n,r,s){if(at(n)){var i=!0;so(e)}else i=!1;if(kr(e,s),e.stateNode===null)Wi(t,e),bp(e,n,r),ba(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=at(n)?Kn:Xe.current,c=Mr(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Pd(e,o,r,c),dn=!1;var f=e.memoizedState;o.state=f,co(e,r,o,s),l=e.memoizedState,a!==r||f!==l||lt.current||dn?(typeof d=="function"&&(Ia(e,n,d,r),l=e.memoizedState),(a=dn||Rd(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:It(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=at(n)?Kn:Xe.current,l=Mr(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Pd(e,o,r,l),dn=!1,f=e.memoizedState,o.state=f,co(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||lt.current||dn?(typeof v=="function"&&(Ia(e,n,v,r),y=e.memoizedState),(c=dn||Rd(e,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pa(t,e,n,r,i,s)}function Pa(t,e,n,r,s,i){Mp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cd(e,n,!1),rn(t,e,i);r=e.stateNode,Zy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dr(e,t.child,null,i),e.child=Dr(e,null,a,i)):Ze(t,e,a,i),e.memoizedState=r.state,s&&Cd(e,n,!0),e.child}function Ap(t){var e=t.stateNode;e.pendingContext?wd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wd(t,e.context,!1),Uc(t,e.containerInfo)}function Fd(t,e,n,r,s){return Ar(),Ac(s),e.flags|=256,Ze(t,e,n,r),e.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Ma(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dp(t,e,n){var r=e.pendingProps,s=pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ce(pe,s&1),t===null)return Sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yo(o,r,0,null),t=Vn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ma(n),e.memoizedState=ja,t):Kc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ev(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Nn(a,i):(i=Vn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ma(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ja,r}return i=t.child,t=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kc(t,e){return e=Yo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ti(t,e,n,r){return r!==null&&Ac(r),Dr(e,t.child,null,n),t=Kc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ev(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ol(Error(k(422))),Ti(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yo({mode:"visible",children:r.children},s,0,null),i=Vn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dr(e,t.child,null,o),e.child.memoizedState=Ma(o),e.memoizedState=ja,i);if(!(e.mode&1))return Ti(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(k(419)),r=Ol(i,r,void 0),Ti(t,e,o,r)}if(a=(o&t.childLanes)!==0,it||a){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nn(t,s),Dt(r,t,s,-1))}return eu(),r=Ol(Error(k(421))),Ti(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mt=_n(s.nextSibling),gt=e,fe=!0,Tt=null,t!==null&&(xt[wt++]=Yt,xt[wt++]=qt,xt[wt++]=Yn,Yt=t.id,qt=t.overflow,Yn=e),e=Kc(e,r.children),e.flags|=4096,e)}function zd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ka(t.return,e,n)}function Ll(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Op(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zd(t,n,e);else if(t.tag===19)zd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&uo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ll(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&uo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ll(e,!0,n,null,i);break;case"together":Ll(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tv(t,e,n){switch(e.tag){case 3:Ap(e),Ar();break;case 5:ap(e);break;case 1:at(e.type)&&so(e);break;case 4:Uc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ce(lo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Dp(t,e,n):(ce(pe,pe.current&1),t=rn(t,e,n),t!==null?t.sibling:null);ce(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Op(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,jp(t,e,n)}return rn(t,e,n)}var Lp,Aa,Fp,zp;Lp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Aa=function(){};Fp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bn(Wt.current);var i=null;switch(n){case"input":s=na(t,s),r=na(t,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=ia(t,s),r=ia(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=no)}la(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zp=function(t,e,n,r){n!==r&&(e.flags|=4)};function ss(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nv(t,e,n){var r=e.pendingProps;switch(Mc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return at(e.type)&&ro(),Ke(e),null;case 3:return r=e.stateNode,Or(),he(lt),he(Xe),Bc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ii(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(Ba(Tt),Tt=null))),Aa(t,e),Ke(e),null;case 5:$c(e);var s=Bn(Us.current);if(n=e.type,t!==null&&e.stateNode!=null)Fp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return Ke(e),null}if(t=Bn(Wt.current),Ii(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ut]=e,r[Fs]=i,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(s=0;s<fs.length;s++)ue(fs[s],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Ku(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":qu(r,i),ue("invalid",r)}la(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,a,t),s=["children",""+a]):bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":vi(r),Yu(r,i,!0);break;case"textarea":vi(r),Xu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=no)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ff(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ut]=e,t[Fs]=r,Lp(t,e,!1,!1),e.stateNode=t;e:{switch(o=aa(n,r),n){case"dialog":ue("cancel",t),ue("close",t),s=r;break;case"iframe":case"object":case"embed":ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<fs.length;s++)ue(fs[s],t);s=r;break;case"source":ue("error",t),s=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=r;break;case"details":ue("toggle",t),s=r;break;case"input":Ku(t,r),s=na(t,r),ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),ue("invalid",t);break;case"textarea":qu(t,r),s=ia(t,r),ue("invalid",t);break;default:s=r}la(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ts(t,l):typeof l=="number"&&Ts(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",t):l!=null&&vc(t,i,l,o))}switch(n){case"input":vi(t),Yu(t,r,!1);break;case"textarea":vi(t),Xu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Cr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=no)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)zp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Bn(Us.current),Bn(Wt.current),Ii(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(i=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:ki(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ki(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return Ke(e),null;case 13:if(he(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&mt!==null&&e.mode&1&&!(e.flags&128))rp(),Ar(),e.flags|=98560,i=!1;else if(i=Ii(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Ut]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),i=!1}else Tt!==null&&(Ba(Tt),Tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?De===0&&(De=3):eu())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return Or(),Aa(t,e),t===null&&Os(e.stateNode.containerInfo),Ke(e),null;case 10:return Lc(e.type._context),Ke(e),null;case 17:return at(e.type)&&ro(),Ke(e),null;case 19:if(he(pe),i=e.memoizedState,i===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ss(i,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=uo(t),o!==null){for(e.flags|=128,ss(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ce()>Fr&&(e.flags|=128,r=!0,ss(i,!1),e.lanes=4194304)}else{if(!r)if(t=uo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return Ke(e),null}else 2*Ce()-i.renderingStartTime>Fr&&n!==1073741824&&(e.flags|=128,r=!0,ss(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ce(),e.sibling=null,n=pe.current,ce(pe,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Zc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function rv(t,e){switch(Mc(e),e.tag){case 1:return at(e.type)&&ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Or(),he(lt),he(Xe),Bc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $c(e),null;case 13:if(he(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(pe),null;case 4:return Or(),null;case 10:return Lc(e.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var Ri=!1,Ye=!1,sv=typeof WeakSet=="function"?WeakSet:Set,D=null;function vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function Da(t,e,n){try{n()}catch(r){_e(t,e,r)}}var Ud=!1;function iv(t,e){if(va=Zi,t=Wf(),Pc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_a={focusedElem:t,selectionRange:n},Zi=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,_=e.stateNode,p=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:It(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(C){_e(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return y=Ud,Ud=!1,y}function ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Da(e,n,i)}s=s.next}while(s!==r)}}function Qo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Up(t){var e=t.alternate;e!==null&&(t.alternate=null,Up(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[Fs],delete e[Ca],delete e[$y],delete e[By])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $p(t){return t.tag===5||t.tag===3||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function La(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=no));else if(r!==4&&(t=t.child,t!==null))for(La(t,e,n),t=t.sibling;t!==null;)La(t,e,n),t=t.sibling}function Fa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fa(t,e,n),t=t.sibling;t!==null;)Fa(t,e,n),t=t.sibling}var Be=null,bt=!1;function cn(t,e,n){for(n=n.child;n!==null;)Bp(t,e,n),n=n.sibling}function Bp(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:Ye||vr(n,e);case 6:var r=Be,s=bt;Be=null,cn(t,e,n),Be=r,bt=s,Be!==null&&(bt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(bt?(t=Be,n=n.stateNode,t.nodeType===8?Rl(t.parentNode,n):t.nodeType===1&&Rl(t,n),Ms(t)):Rl(Be,n.stateNode));break;case 4:r=Be,s=bt,Be=n.stateNode.containerInfo,bt=!0,cn(t,e,n),Be=r,bt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Da(n,e,o),s=s.next}while(s!==r)}cn(t,e,n);break;case 1:if(!Ye&&(vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_e(n,e,a)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,cn(t,e,n),Ye=r):cn(t,e,n);break;default:cn(t,e,n)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sv),e.forEach(function(r){var s=pv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,bt=!1;break e;case 3:Be=a.stateNode.containerInfo,bt=!0;break e;case 4:Be=a.stateNode.containerInfo,bt=!0;break e}a=a.return}if(Be===null)throw Error(k(160));Bp(i,o,s),Be=null,bt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){_e(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hp(e,t),e=e.sibling}function Hp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Ft(t),r&4){try{ws(3,t,t.return),Qo(3,t)}catch(w){_e(t,t.return,w)}try{ws(5,t,t.return)}catch(w){_e(t,t.return,w)}}break;case 1:kt(e,t),Ft(t),r&512&&n!==null&&vr(n,n.return);break;case 5:if(kt(e,t),Ft(t),r&512&&n!==null&&vr(n,n.return),t.flags&32){var s=t.stateNode;try{Ts(s,"")}catch(w){_e(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&df(s,i),aa(a,o);var c=aa(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gf(s,h):d==="dangerouslySetInnerHTML"?pf(s,h):d==="children"?Ts(s,h):vc(s,d,h,c)}switch(a){case"input":ra(s,i);break;case"textarea":hf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Cr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(s,!!i.multiple,i.defaultValue,!0):Cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fs]=i}catch(w){_e(t,t.return,w)}}break;case 6:if(kt(e,t),Ft(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){_e(t,t.return,w)}}break;case 3:if(kt(e,t),Ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ms(e.containerInfo)}catch(w){_e(t,t.return,w)}break;case 4:kt(e,t),Ft(t);break;case 13:kt(e,t),Ft(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xc=Ce())),r&4&&Bd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(c=Ye)||d,kt(e,t),Ye=c):kt(e,t),Ft(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,v=f.child,f.tag){case 0:case 11:case 14:case 15:ws(4,f,f.return);break;case 1:vr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){_e(r,n,w)}}break;case 5:vr(f,f.return);break;case 22:if(f.memoizedState!==null){Wd(h);continue}}v!==null?(v.return=f,D=v):Wd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mf("display",o))}catch(w){_e(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){_e(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kt(e,t),Ft(t),r&4&&Bd(t);break;case 21:break;default:kt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($p(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ts(s,""),r.flags&=-33);var i=$d(t);Fa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$d(t);La(t,a,o);break;default:throw Error(k(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ov(t,e,n){D=t,Wp(t)}function Wp(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ri;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Ri;var c=Ye;if(Ri=o,(Ye=l)&&!c)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Gd(s):l!==null?(l.return=o,D=l):Gd(s);for(;i!==null;)D=i,Wp(i),i=i.sibling;D=s,Ri=a,Ye=c}Hd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Hd(t)}}function Hd(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Qo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:It(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Id(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Id(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ms(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Ye||e.flags&512&&Oa(e)}catch(f){_e(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Wd(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Gd(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qo(4,e)}catch(l){_e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){_e(e,s,l)}}var i=e.return;try{Oa(e)}catch(l){_e(e,i,l)}break;case 5:var o=e.return;try{Oa(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var lv=Math.ceil,po=ln.ReactCurrentDispatcher,Yc=ln.ReactCurrentOwner,Nt=ln.ReactCurrentBatchConfig,X=0,$e=null,Se=null,He=0,pt=0,_r=An(0),De=0,Ws=null,Xn=0,Ko=0,qc=0,Cs=null,st=null,Xc=0,Fr=1/0,Qt=null,mo=!1,za=null,wn=null,Pi=!1,mn=null,go=0,Ns=0,Ua=null,Gi=-1,Vi=0;function tt(){return X&6?Ce():Gi!==-1?Gi:Gi=Ce()}function Cn(t){return t.mode&1?X&2&&He!==0?He&-He:Wy.transition!==null?(Vi===0&&(Vi=bf()),Vi):(t=te,t!==0||(t=window.event,t=t===void 0?16:Df(t.type)),t):1}function Dt(t,e,n,r){if(50<Ns)throw Ns=0,Ua=null,Error(k(185));ri(t,n,r),(!(X&2)||t!==$e)&&(t===$e&&(!(X&2)&&(Ko|=n),De===4&&fn(t,He)),ct(t,r),n===1&&X===0&&!(e.mode&1)&&(Fr=Ce()+500,Wo&&Dn()))}function ct(t,e){var n=t.callbackNode;W0(t,e);var r=Ji(t,t===$e?He:0);if(r===0)n!==null&&ed(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ed(n),e===1)t.tag===0?Hy(Vd.bind(null,t)):ep(Vd.bind(null,t)),zy(function(){!(X&6)&&Dn()}),n=null;else{switch(Tf(r)){case 1:n=Nc;break;case 4:n=kf;break;case 16:n=Xi;break;case 536870912:n=If;break;default:n=Xi}n=Jp(n,Gp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gp(t,e){if(Gi=-1,Vi=0,X&6)throw Error(k(327));var n=t.callbackNode;if(Ir()&&t.callbackNode!==n)return null;var r=Ji(t,t===$e?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yo(t,r);else{e=r;var s=X;X|=2;var i=Qp();($e!==t||He!==e)&&(Qt=null,Fr=Ce()+500,Gn(t,e));do try{uv();break}catch(a){Vp(t,a)}while(1);Oc(),po.current=i,X=s,Se!==null?e=0:($e=null,He=0,e=De)}if(e!==0){if(e===2&&(s=fa(t),s!==0&&(r=s,e=$a(t,s))),e===1)throw n=Ws,Gn(t,0),fn(t,r),ct(t,Ce()),n;if(e===6)fn(t,r);else{if(s=t.current.alternate,!(r&30)&&!av(s)&&(e=yo(t,r),e===2&&(i=fa(t),i!==0&&(r=i,e=$a(t,i))),e===1))throw n=Ws,Gn(t,0),fn(t,r),ct(t,Ce()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Ln(t,st,Qt);break;case 3:if(fn(t,r),(r&130023424)===r&&(e=Xc+500-Ce(),10<e)){if(Ji(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wa(Ln.bind(null,t,st,Qt),e);break}Ln(t,st,Qt);break;case 4:if(fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-At(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lv(r/1960))-r,10<r){t.timeoutHandle=wa(Ln.bind(null,t,st,Qt),r);break}Ln(t,st,Qt);break;case 5:Ln(t,st,Qt);break;default:throw Error(k(329))}}}return ct(t,Ce()),t.callbackNode===n?Gp.bind(null,t):null}function $a(t,e){var n=Cs;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=yo(t,e),t!==2&&(e=st,st=n,e!==null&&Ba(e)),t}function Ba(t){st===null?st=t:st.push.apply(st,t)}function av(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~qc,e&=~Ko,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function Vd(t){if(X&6)throw Error(k(327));Ir();var e=Ji(t,0);if(!(e&1))return ct(t,Ce()),null;var n=yo(t,e);if(t.tag!==0&&n===2){var r=fa(t);r!==0&&(e=r,n=$a(t,r))}if(n===1)throw n=Ws,Gn(t,0),fn(t,e),ct(t,Ce()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ln(t,st,Qt),ct(t,Ce()),null}function Jc(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Fr=Ce()+500,Wo&&Dn())}}function Jn(t){mn!==null&&mn.tag===0&&!(X&6)&&Ir();var e=X;X|=1;var n=Nt.transition,r=te;try{if(Nt.transition=null,te=1,t)return t()}finally{te=r,Nt.transition=n,X=e,!(X&6)&&Dn()}}function Zc(){pt=_r.current,he(_r)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fy(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Mc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ro();break;case 3:Or(),he(lt),he(Xe),Bc();break;case 5:$c(r);break;case 4:Or();break;case 13:he(pe);break;case 19:he(pe);break;case 10:Lc(r.type._context);break;case 22:case 23:Zc()}n=n.return}if($e=t,Se=t=Nn(t.current,null),He=pt=e,De=0,Ws=null,qc=Ko=Xn=0,st=Cs=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$n=null}return t}function Vp(t,e){do{var n=Se;try{if(Oc(),Bi.current=fo,ho){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ho=!1}if(qn=0,Fe=Re=me=null,xs=!1,$s=0,Yc.current=null,n===null||n.return===null){De=1,Ws=e,Se=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Md(o);if(v!==null){v.flags&=-257,Ad(v,o,a,i,e),v.mode&1&&jd(i,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){jd(i,c,e),eu();break e}l=Error(k(426))}}else if(fe&&a.mode&1){var E=Md(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ad(E,o,a,i,e),Ac(Lr(l,a));break e}}i=l=Lr(l,a),De!==4&&(De=2),Cs===null?Cs=[i]:Cs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Tp(i,l,e);kd(i,_);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wn===null||!wn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Rp(i,a,e);kd(i,C);break e}}i=i.return}while(i!==null)}Yp(n)}catch(I){e=I,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(1)}function Qp(){var t=po.current;return po.current=fo,t===null?fo:t}function eu(){(De===0||De===3||De===2)&&(De=4),$e===null||!(Xn&268435455)&&!(Ko&268435455)||fn($e,He)}function yo(t,e){var n=X;X|=2;var r=Qp();($e!==t||He!==e)&&(Qt=null,Gn(t,e));do try{cv();break}catch(s){Vp(t,s)}while(1);if(Oc(),X=n,po.current=r,Se!==null)throw Error(k(261));return $e=null,He=0,De}function cv(){for(;Se!==null;)Kp(Se)}function uv(){for(;Se!==null&&!D0();)Kp(Se)}function Kp(t){var e=Xp(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?Yp(t):Se=e,Yc.current=null}function Yp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rv(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Se=null;return}}else if(n=nv(n,e,pt),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);De===0&&(De=5)}function Ln(t,e,n){var r=te,s=Nt.transition;try{Nt.transition=null,te=1,dv(t,e,n,r)}finally{Nt.transition=s,te=r}return null}function dv(t,e,n,r){do Ir();while(mn!==null);if(X&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(G0(t,i),t===$e&&(Se=$e=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pi||(Pi=!0,Jp(Xi,function(){return Ir(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nt.transition,Nt.transition=null;var o=te;te=1;var a=X;X|=4,Yc.current=null,iv(t,n),Hp(n,t),Py(_a),Zi=!!va,_a=va=null,t.current=n,ov(n),O0(),X=a,te=o,Nt.transition=i}else t.current=n;if(Pi&&(Pi=!1,mn=t,go=s),i=t.pendingLanes,i===0&&(wn=null),z0(n.stateNode),ct(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mo)throw mo=!1,t=za,za=null,t;return go&1&&t.tag!==0&&Ir(),i=t.pendingLanes,i&1?t===Ua?Ns++:(Ns=0,Ua=t):Ns=0,Dn(),null}function Ir(){if(mn!==null){var t=Tf(go),e=Nt.transition,n=te;try{if(Nt.transition=null,te=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,go=0,X&6)throw Error(k(331));var s=X;for(X|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ws(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,v=d.return;if(Up(d),d===c){D=null;break}if(f!==null){f.return=v,D=f;break}D=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ws(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,D=_;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qo(9,a)}}catch(I){_e(a,a.return,I)}if(a===o){D=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,D=C;break e}D=a.return}}if(X=s,Dn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(zo,t)}catch{}r=!0}return r}finally{te=n,Nt.transition=e}}return!1}function Qd(t,e,n){e=Lr(n,e),e=Tp(t,e,1),t=xn(t,e,1),e=tt(),t!==null&&(ri(t,1,e),ct(t,e))}function _e(t,e,n){if(t.tag===3)Qd(t,t,n);else for(;e!==null;){if(e.tag===3){Qd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){t=Lr(n,t),t=Rp(e,t,1),e=xn(e,t,1),t=tt(),e!==null&&(ri(e,1,t),ct(e,t));break}}e=e.return}}function hv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Ce()-Xc?Gn(t,0):qc|=n),ct(t,e)}function qp(t,e){e===0&&(t.mode&1?(e=wi,wi<<=1,!(wi&130023424)&&(wi=4194304)):e=1);var n=tt();t=nn(t,e),t!==null&&(ri(t,e,n),ct(t,n))}function fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qp(t,n)}function pv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),qp(t,n)}var Xp;Xp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,tv(t,e,n);it=!!(t.flags&131072)}else it=!1,fe&&e.flags&1048576&&tp(e,oo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wi(t,e),t=e.pendingProps;var s=Mr(e,Xe.current);kr(e,n),s=Wc(null,e,r,t,s,n);var i=Gc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(i=!0,so(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zc(e),s.updater=Vo,e.stateNode=s,s._reactInternals=e,ba(e,r,t,n),e=Pa(null,e,r,!0,i,n)):(e.tag=0,fe&&i&&jc(e),Ze(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gv(r),t=It(r,t),s){case 0:e=Ra(null,e,r,t,n);break e;case 1:e=Ld(null,e,r,t,n);break e;case 11:e=Dd(null,e,r,t,n);break e;case 14:e=Od(null,e,r,It(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:It(r,s),Ra(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:It(r,s),Ld(t,e,r,s,n);case 3:e:{if(Ap(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lp(t,e),co(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lr(Error(k(423)),e),e=Fd(t,e,r,n,s);break e}else if(r!==s){s=Lr(Error(k(424)),e),e=Fd(t,e,r,n,s);break e}else for(mt=_n(e.stateNode.containerInfo.firstChild),gt=e,fe=!0,Tt=null,n=ip(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===s){e=rn(t,e,n);break e}Ze(t,e,r,n)}e=e.child}return e;case 5:return ap(e),t===null&&Sa(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xa(r,s)?o=null:i!==null&&xa(r,i)&&(e.flags|=32),Mp(t,e),Ze(t,e,o,n),e.child;case 6:return t===null&&Sa(e),null;case 13:return Dp(t,e,n);case 4:return Uc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dr(e,null,r,n):Ze(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:It(r,s),Dd(t,e,r,s,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ce(lo,r._currentValue),r._currentValue=o,i!==null)if(Lt(i.value,o)){if(i.children===s.children&&!lt.current){e=rn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Jt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ka(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ka(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,kr(e,n),s=Et(s),r=r(s),e.flags|=1,Ze(t,e,r,n),e.child;case 14:return r=e.type,s=It(r,e.pendingProps),s=It(r.type,s),Od(t,e,r,s,n);case 15:return Pp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:It(r,s),Wi(t,e),e.tag=1,at(r)?(t=!0,so(e)):t=!1,kr(e,n),bp(e,r,s),ba(e,r,s,n),Pa(null,e,r,!0,t,n);case 19:return Op(t,e,n);case 22:return jp(t,e,n)}throw Error(k(156,e.tag))};function Jp(t,e){return Sf(t,e)}function mv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,n,r){return new mv(t,e,n,r)}function tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xc)return 11;if(t===wc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=Ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cr:return Vn(n.children,s,i,e);case _c:o=8,s|=8;break;case Jl:return t=Ct(12,n,e,s|2),t.elementType=Jl,t.lanes=i,t;case Zl:return t=Ct(13,n,e,s),t.elementType=Zl,t.lanes=i,t;case ea:return t=Ct(19,n,e,s),t.elementType=ea,t.lanes=i,t;case af:return Yo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case of:o=10;break e;case lf:o=9;break e;case xc:o=11;break e;case wc:o=14;break e;case un:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ct(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Vn(t,e,n,r){return t=Ct(7,t,r,e),t.lanes=n,t}function Yo(t,e,n,r){return t=Ct(22,t,r,e),t.elementType=af,t.lanes=n,t.stateNode={isHidden:!1},t}function Fl(t,e,n){return t=Ct(6,t,null,e),t.lanes=n,t}function zl(t,e,n){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nu(t,e,n,r,s,i,o,a,l){return t=new yv(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ct(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(i),t}function vv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zp(t){if(!t)return Tn;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(at(n))return Zf(t,n,e)}return e}function em(t,e,n,r,s,i,o,a,l){return t=nu(n,r,!0,t,s,i,o,a,l),t.context=Zp(null),n=t.current,r=tt(),s=Cn(n),i=Jt(r,s),i.callback=e??null,xn(n,i,s),t.current.lanes=s,ri(t,s,r),ct(t,r),t}function qo(t,e,n,r){var s=e.current,i=tt(),o=Cn(s);return n=Zp(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xn(s,e,o),t!==null&&(Dt(t,s,o,i),$i(t,s,o)),o}function vo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ru(t,e){Kd(t,e),(t=t.alternate)&&Kd(t,e)}function _v(){return null}var tm=typeof reportError=="function"?reportError:function(t){console.error(t)};function su(t){this._internalRoot=t}Xo.prototype.render=su.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));qo(t,e,null,null)};Xo.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jn(function(){qo(null,t,null,null)}),e[tn]=null}};function Xo(t){this._internalRoot=t}Xo.prototype.unstable_scheduleHydration=function(t){if(t){var e=jf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&Af(t)}};function iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function xv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=vo(o);i.call(c)}}var o=em(e,r,t,0,null,!1,!1,"",Yd);return t._reactRootContainer=o,t[tn]=o.current,Os(t.nodeType===8?t.parentNode:t),Jn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=vo(l);a.call(c)}}var l=nu(t,0,!1,null,null,!1,!1,"",Yd);return t._reactRootContainer=l,t[tn]=l.current,Os(t.nodeType===8?t.parentNode:t),Jn(function(){qo(e,l,n,r)}),l}function Zo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=vo(o);a.call(l)}}qo(e,o,t,s)}else o=xv(n,e,t,s,r);return vo(o)}Rf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hs(e.pendingLanes);n!==0&&(Ec(e,n|1),ct(e,Ce()),!(X&6)&&(Fr=Ce()+500,Dn()))}break;case 13:Jn(function(){var r=nn(t,1);if(r!==null){var s=tt();Dt(r,t,1,s)}}),ru(t,1)}};Sc=function(t){if(t.tag===13){var e=nn(t,134217728);if(e!==null){var n=tt();Dt(e,t,134217728,n)}ru(t,134217728)}};Pf=function(t){if(t.tag===13){var e=Cn(t),n=nn(t,e);if(n!==null){var r=tt();Dt(n,t,e,r)}ru(t,e)}};jf=function(){return te};Mf=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};ua=function(t,e,n){switch(e){case"input":if(ra(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ho(r);if(!s)throw Error(k(90));uf(r),ra(r,s)}}}break;case"textarea":hf(t,n);break;case"select":e=n.value,e!=null&&Cr(t,!!n.multiple,e,!1)}};_f=Jc;xf=Jn;var wv={usingClientEntryPoint:!1,Events:[ii,fr,Ho,yf,vf,Jc]},is={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nf(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ji.isDisabled&&ji.supportsFiber)try{zo=ji.inject(Cv),Ht=ji}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(e))throw Error(k(200));return vv(t,e,null,n)};vt.createRoot=function(t,e){if(!iu(t))throw Error(k(299));var n=!1,r="",s=tm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nu(t,1,!1,null,null,n,!1,r,s),t[tn]=e.current,Os(t.nodeType===8?t.parentNode:t),new su(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Nf(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return Jn(t)};vt.hydrate=function(t,e,n){if(!Jo(e))throw Error(k(200));return Zo(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!iu(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=em(e,null,t,1,n??null,s,!1,i,o),t[tn]=e.current,Os(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xo(e)};vt.render=function(t,e,n){if(!Jo(e))throw Error(k(200));return Zo(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(k(40));return t._reactRootContainer?(Jn(function(){Zo(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};vt.unstable_batchedUpdates=Jc;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jo(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Zo(t,e,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(t){console.error(t)}}nm(),tf.exports=vt;var Nv=tf.exports,rm,qd=Nv;rm=qd.createRoot,qd.hydrateRoot;var Ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kv=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>A.createElement("svg",{ref:c,...Ev,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Sv(t)}`,...l},[...e.map(([d,h])=>A.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var ht=kv;const Mi=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Xd=ht("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ps=ht("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Gs=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ha=ht("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),el=ht("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Iv=ht("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),bv=ht("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Wa=ht("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),$t=ht("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),ou=ht("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),sm=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jd=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tv=ht("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Rv=Object.defineProperty,_o=Object.getOwnPropertySymbols,im=Object.prototype.hasOwnProperty,om=Object.prototype.propertyIsEnumerable,Zd=(t,e,n)=>e in t?Rv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ga=(t,e)=>{for(var n in e||(e={}))im.call(e,n)&&Zd(t,n,e[n]);if(_o)for(var n of _o(e))om.call(e,n)&&Zd(t,n,e[n]);return t},Va=(t,e)=>{var n={};for(var r in t)im.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_o)for(var r of _o(t))e.indexOf(r)<0&&om.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Zn;(t=>{const e=class G{constructor(l,c,d,h){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<G.MIN_VERSION||l>G.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let y=0;y<this.size;y++)f.push(!1);for(let y=0;y<this.size;y++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(d);if(this.drawCodewords(v),h==-1){let y=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const E=this.getPenaltyScore();E<y&&(h=w,y=E),this.applyMask(w)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,c){const d=t.QrSegment.makeSegments(l);return G.encodeSegments(d,c)}static encodeBinary(l,c){const d=t.QrSegment.makeBytes(l);return G.encodeSegments([d],c)}static encodeSegments(l,c,d=1,h=40,f=-1,v=!0){if(!(G.MIN_VERSION<=d&&d<=h&&h<=G.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let y,w;for(y=d;;y++){const g=G.getNumDataCodewords(y,c)*8,C=o.getTotalBits(l,y);if(C<=g){w=C;break}if(y>=h)throw new RangeError("Data too long")}for(const g of[G.Ecc.MEDIUM,G.Ecc.QUARTILE,G.Ecc.HIGH])v&&w<=G.getNumDataCodewords(y,g)*8&&(c=g);let E=[];for(const g of l){n(g.mode.modeBits,4,E),n(g.numChars,g.mode.numCharCountBits(y),E);for(const C of g.getData())E.push(C)}s(E.length==w);const _=G.getNumDataCodewords(y,c)*8;s(E.length<=_),n(0,Math.min(4,_-E.length),E),n(0,(8-E.length%8)%8,E),s(E.length%8==0);for(let g=236;E.length<_;g^=253)n(g,8,E);let p=[];for(;p.length*8<E.length;)p.push(0);return E.forEach((g,C)=>p[C>>>3]|=g<<7-(C&7)),new G(y,c,p,f)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)d==0&&h==0||d==0&&h==c-1||d==c-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(c<<10|d)^21522;s(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(h,f));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let d=0;d<18;d++){const h=r(c,d),f=this.size-11+d%3,v=Math.floor(d/3);this.setFunctionModule(f,v,h),this.setFunctionModule(v,f,h)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),v=l+h,y=c+d;0<=v&&v<this.size&&0<=y&&y<this.size&&this.setFunctionModule(v,y,f!=2&&f!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,c+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=G.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const h=G.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],f=G.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],v=Math.floor(G.getNumRawDataModules(c)/8),y=h-v%h,w=Math.floor(v/h);let E=[];const _=G.reedSolomonComputeDivisor(f);for(let g=0,C=0;g<h;g++){let I=l.slice(C,C+w-f+(g<y?0:1));C+=I.length;const P=G.reedSolomonComputeRemainder(I,_);g<y&&I.push(0),E.push(I.concat(P))}let p=[];for(let g=0;g<E[0].length;g++)E.forEach((C,I)=>{(g!=w-f||I>=y)&&p.push(C[g])});return s(p.length==v),p}drawCodewords(l){if(l.length!=Math.floor(G.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const v=d-f,w=(d+1&2)==0?this.size-1-h:h;!this.isFunction[w][v]&&c<l.length*8&&(this.modules[w][v]=r(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+c)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:h=d*c%2+d*c%3==0;break;case 6:h=(d*c%2+d*c%3)%2==0;break;case 7:h=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&h&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let v=!1,y=0,w=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[f][E]==v?(y++,y==5?l+=G.PENALTY_N1:y>5&&l++):(this.finderPenaltyAddHistory(y,w),v||(l+=this.finderPenaltyCountPatterns(w)*G.PENALTY_N3),v=this.modules[f][E],y=1);l+=this.finderPenaltyTerminateAndCount(v,y,w)*G.PENALTY_N3}for(let f=0;f<this.size;f++){let v=!1,y=0,w=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][f]==v?(y++,y==5?l+=G.PENALTY_N1:y>5&&l++):(this.finderPenaltyAddHistory(y,w),v||(l+=this.finderPenaltyCountPatterns(w)*G.PENALTY_N3),v=this.modules[E][f],y=1);l+=this.finderPenaltyTerminateAndCount(v,y,w)*G.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let v=0;v<this.size-1;v++){const y=this.modules[f][v];y==this.modules[f][v+1]&&y==this.modules[f+1][v]&&y==this.modules[f+1][v+1]&&(l+=G.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((v,y)=>v+(y?1:0),c);const d=this.size*this.size,h=Math.ceil(Math.abs(c*20-d*10)/d)-1;return s(0<=h&&h<=9),l+=h*G.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=c)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<G.MIN_VERSION||l>G.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(G.getNumRawDataModules(l)/8)-G.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*G.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<l-1;h++)c.push(0);c.push(1);let d=1;for(let h=0;h<l;h++){for(let f=0;f<c.length;f++)c[f]=G.reedSolomonMultiply(c[f],d),f+1<c.length&&(c[f]^=c[f+1]);d=G.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(h=>0);for(const h of l){const f=h^d.shift();d.push(0),c.forEach((v,y)=>d[y]^=G.reedSolomonMultiply(v,f))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(c>>>h&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class ve{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)n(d,8,c);return new ve(ve.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!ve.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,c),d+=h}return new ve(ve.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!ve.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let h=ve.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=ve.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,c)}return d<l.length&&n(ve.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new ve(ve.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:ve.isNumeric(l)?[ve.makeNumeric(l)]:ve.isAlphanumeric(l)?[ve.makeAlphanumeric(l)]:[ve.makeBytes(ve.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new ve(ve.Mode.ECI,0,c)}static isNumeric(l){return ve.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return ve.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const h of l){const f=h.mode.numCharCountBits(c);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Zn||(Zn={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Zn||(Zn={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Zn||(Zn={}));var xr=Zn;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Pv={L:xr.QrCode.Ecc.LOW,M:xr.QrCode.Ecc.MEDIUM,Q:xr.QrCode.Ecc.QUARTILE,H:xr.QrCode.Ecc.HIGH},lm=128,am="L",cm="#FFFFFF",um="#000000",dm=!1,hm=1,jv=4,Mv=0,Av=.1;function fm(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function pm(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Dv(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*Av),o=s/e,a=(r.width||i)*o,l=(r.height||i)*o,c=r.x==null?t.length/2-a/2:r.x*o,d=r.y==null?t.length/2-l/2:r.y*o,h=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let y=Math.floor(c),w=Math.floor(d),E=Math.ceil(a+c-y),_=Math.ceil(l+d-w);f={x:y,y:w,w:E,h:_}}const v=r.crossOrigin;return{x:c,y:d,h:l,w:a,excavation:f,opacity:h,crossOrigin:v}}function Ov(t,e){return e!=null?Math.max(Math.floor(e),0):t?jv:Mv}function mm({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let l=Te.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((w,E)=>(w.push(...xr.QrSegment.makeSegments(E)),w),[]);return xr.QrCode.encodeSegments(y,Pv[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:c,margin:d,numCells:h,calculatedImageSettings:f}=Te.useMemo(()=>{let v=l.getModules();const y=Ov(r,s),w=v.length+y*2,E=Dv(v,o,y,i);return{cells:v,margin:y,numCells:w,calculatedImageSettings:E}},[l,o,i,r,s]);return{qrcode:l,margin:d,cells:c,numCells:h,calculatedImageSettings:f}}var Lv=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Fv=Te.forwardRef(function(e,n){const r=e,{value:s,size:i=lm,level:o=am,bgColor:a=cm,fgColor:l=um,includeMargin:c=dm,minVersion:d=hm,boostLevel:h,marginSize:f,imageSettings:v}=r,w=Va(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:E}=w,_=Va(w,["style"]),p=v==null?void 0:v.src,g=Te.useRef(null),C=Te.useRef(null),I=Te.useCallback(ke=>{g.current=ke,typeof n=="function"?n(ke):n&&(n.current=ke)},[n]),[P,j]=Te.useState(!1),{margin:M,cells:K,numCells:U,calculatedImageSettings:Y}=mm({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:c,marginSize:f,imageSettings:v,size:i});Te.useEffect(()=>{if(g.current!=null){const ke=g.current,we=ke.getContext("2d");if(!we)return;let ye=K;const ne=C.current,R=Y!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;R&&Y.excavation!=null&&(ye=pm(K,Y.excavation));const L=window.devicePixelRatio||1;ke.height=ke.width=i*L;const z=i/U*L;we.scale(z,z),we.fillStyle=a,we.fillRect(0,0,U,U),we.fillStyle=l,Lv?we.fill(new Path2D(fm(ye,M))):K.forEach(function(J,ee){J.forEach(function(se,Ie){se&&we.fillRect(Ie+M,ee+M,1,1)})}),Y&&(we.globalAlpha=Y.opacity),R&&we.drawImage(ne,Y.x+M,Y.y+M,Y.w,Y.h)}}),Te.useEffect(()=>{j(!1)},[p]);const Ne=Ga({height:i,width:i},E);let Oe=null;return p!=null&&(Oe=Te.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{j(!0)},ref:C,crossOrigin:Y==null?void 0:Y.crossOrigin})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",Ga({style:Ne,height:i,width:i,ref:I,role:"img"},_)),Oe)});Fv.displayName="QRCodeCanvas";var li=Te.forwardRef(function(e,n){const r=e,{value:s,size:i=lm,level:o=am,bgColor:a=cm,fgColor:l=um,includeMargin:c=dm,minVersion:d=hm,boostLevel:h,title:f,marginSize:v,imageSettings:y}=r,w=Va(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:E,cells:_,numCells:p,calculatedImageSettings:g}=mm({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:c,marginSize:v,imageSettings:y,size:i});let C=_,I=null;y!=null&&g!=null&&(g.excavation!=null&&(C=pm(_,g.excavation)),I=Te.createElement("image",{href:y.src,height:g.h,width:g.w,x:g.x+E,y:g.y+E,preserveAspectRatio:"none",opacity:g.opacity,crossOrigin:g.crossOrigin}));const P=fm(C,E);return Te.createElement("svg",Ga({height:i,width:i,viewBox:`0 0 ${p} ${p}`,ref:n,role:"img"},w),!!f&&Te.createElement("title",null,f),Te.createElement("path",{fill:a,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:l,d:P,shapeRendering:"crispEdges"}),I)});li.displayName="QRCodeSVG";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw Qr(e)},Qr=function(t){return new Error("Firebase Database ("+gm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[d],n[h],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ym(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Uv;const f=i<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vm=function(t){const e=ym(t);return lu.encodeByteArray(e,!0)},xo=function(t){return vm(t).replace(/\./g,"")},Qa=function(t){try{return lu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){return _m(void 0,t)}function _m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Bv(n)||(t[n]=_m(t[n],e[n]));return t}function Bv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=()=>Hv().__FIREBASE_DEFAULTS__,Gv=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qa(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return Wv()||Gv()||Vv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qv=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kv=t=>{const e=Qv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wm=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[xo(JSON.stringify(n)),xo(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qv())}function Xv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nm(){return gm.NODE_ADMIN===!0}function Jv(){try{return typeof indexedDB=="object"}catch{return!1}}function Zv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e_,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Em.prototype.create)}}class Em{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?t_(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ai(s,a,r)}}function t_(t,e){return t.replace(n_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const n_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){return JSON.parse(t)}function Me(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Vs(Qa(i[0])||""),n=Vs(Qa(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},r_=function(t){const e=Sm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},s_=function(t){const e=Sm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function eh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(th(i)&&th(o)){if(!Ka(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function th(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function au(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,T(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u_(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c_(t){return t===Fn?void 0:t}function u_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const h_={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},f_=le.INFO,p_={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},m_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=p_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=f_,this._logHandler=m_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const g_=(t,e)=>e.some(n=>t instanceof n);let nh,rh;function y_(){return nh||(nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v_(){return rh||(rh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Im=new WeakMap,Ya=new WeakMap,bm=new WeakMap,Ul=new WeakMap,cu=new WeakMap;function __(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(En(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Im.set(n,t)}).catch(()=>{}),cu.set(e,t),e}function x_(t){if(Ya.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ya.set(t,e)}let qa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ya.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w_(t){qa=t(qa)}function C_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($l(this),e,...n);return bm.set(r,e.sort?e.sort():[e]),En(r)}:v_().includes(t)?function(...e){return t.apply($l(this),e),En(Im.get(this))}:function(...e){return En(t.apply($l(this),e))}}function N_(t){return typeof t=="function"?C_(t):(t instanceof IDBTransaction&&x_(t),g_(t,y_())?new Proxy(t,qa):t)}function En(t){if(t instanceof IDBRequest)return __(t);if(Ul.has(t))return Ul.get(t);const e=N_(t);return e!==t&&(Ul.set(t,e),cu.set(e,t)),e}const $l=t=>cu.get(t);function E_(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=En(o);return r&&o.addEventListener("upgradeneeded",l=>{r(En(o.result),l.oldVersion,l.newVersion,En(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const S_=["get","getKey","getAll","getAllKeys","count"],k_=["put","add","delete","clear"],Bl=new Map;function sh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bl.get(e))return Bl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=k_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||S_.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Bl.set(e,i),i}w_(t=>({...t,get:(e,n,r)=>sh(e,n)||t.get(e,n,r),has:(e,n)=>!!sh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xa="@firebase/app",ih="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new km("@firebase/app"),T_="@firebase/app-compat",R_="@firebase/analytics-compat",P_="@firebase/analytics",j_="@firebase/app-check-compat",M_="@firebase/app-check",A_="@firebase/auth",D_="@firebase/auth-compat",O_="@firebase/database",L_="@firebase/data-connect",F_="@firebase/database-compat",z_="@firebase/functions",U_="@firebase/functions-compat",$_="@firebase/installations",B_="@firebase/installations-compat",H_="@firebase/messaging",W_="@firebase/messaging-compat",G_="@firebase/performance",V_="@firebase/performance-compat",Q_="@firebase/remote-config",K_="@firebase/remote-config-compat",Y_="@firebase/storage",q_="@firebase/storage-compat",X_="@firebase/firestore",J_="@firebase/vertexai-preview",Z_="@firebase/firestore-compat",ex="firebase",tx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]",nx={[Xa]:"fire-core",[T_]:"fire-core-compat",[P_]:"fire-analytics",[R_]:"fire-analytics-compat",[M_]:"fire-app-check",[j_]:"fire-app-check-compat",[A_]:"fire-auth",[D_]:"fire-auth-compat",[O_]:"fire-rtdb",[L_]:"fire-data-connect",[F_]:"fire-rtdb-compat",[z_]:"fire-fn",[U_]:"fire-fn-compat",[$_]:"fire-iid",[B_]:"fire-iid-compat",[H_]:"fire-fcm",[W_]:"fire-fcm-compat",[G_]:"fire-perf",[V_]:"fire-perf-compat",[Q_]:"fire-rc",[K_]:"fire-rc-compat",[Y_]:"fire-gcs",[q_]:"fire-gcs-compat",[X_]:"fire-fst",[Z_]:"fire-fst-compat",[J_]:"fire-vertex","fire-js":"fire-js",[ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Map,rx=new Map,Za=new Map;function oh(t,e){try{t.container.addComponent(e)}catch(n){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(Za.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;Za.set(e,t);for(const n of Co.values())oh(n,t);for(const n of rx.values())oh(n,t);return!0}function sx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new Em("app","Firebase",ix);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=tx;function Tm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ja,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Sn.create("bad-app-name",{appName:String(s)});if(n||(n=wm()),!n)throw Sn.create("no-options");const i=Co.get(s);if(i){if(Ka(n,i.options)&&Ka(r,i.config))return i;throw Sn.create("duplicate-app",{appName:s})}const o=new d_(s);for(const l of Za.values())o.addComponent(l);const a=new ox(n,r,o);return Co.set(s,a),a}function ax(t=Ja){const e=Co.get(t);if(!e&&t===Ja&&wm())return Tm();if(!e)throw Sn.create("no-app",{appName:t});return e}function br(t,e,n){var r;let s=(r=nx[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(a.join(" "));return}No(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firebase-heartbeat-database",ux=1,Ks="firebase-heartbeat-store";let Hl=null;function Rm(){return Hl||(Hl=E_(cx,ux,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ks)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),Hl}async function dx(t){try{const n=(await Rm()).transaction(Ks),r=await n.objectStore(Ks).get(Pm(t));return await n.done,r}catch(e){if(e instanceof ai)sn.warn(e.message);else{const n=Sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sn.warn(n.message)}}}async function lh(t,e){try{const r=(await Rm()).transaction(Ks,"readwrite");await r.objectStore(Ks).put(e,Pm(t)),await r.done}catch(n){if(n instanceof ai)sn.warn(n.message);else{const r=Sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sn.warn(r.message)}}}function Pm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=1024,fx=30*24*60*60*1e3;class px{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ah();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ah(),{heartbeatsToSend:r,unsentEntries:s}=mx(this._heartbeatsCache.heartbeats),i=xo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return sn.warn(n),""}}}function ah(){return new Date().toISOString().substring(0,10)}function mx(t,e=hx){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ch(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ch(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jv()?Zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ch(t){return xo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){No(new Qs("platform-logger",e=>new I_(e),"PRIVATE")),No(new Qs("heartbeat",e=>new px(e),"PRIVATE")),br(Xa,ih,t),br(Xa,ih,"esm2017"),br("fire-js","")}yx("");var vx="firebase",_x="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(vx,_x,"app");const uh="@firebase/database",dh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm="";function xx(t){jm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Me(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wx(e)}}catch{}return new Cx},Hn=Mm("localStorage"),ec=Mm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new km("@firebase/database"),Nx=function(){let t=1;return function(){return t++}}(),Am=function(t){const e=l_(t),n=new o_;n.update(e);const r=n.digest();return lu.encodeByteArray(r)},ci=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ci.apply(null,r):typeof r=="object"?e+=Me(r):e+=r,e+=" "}return e};let Qn=null,hh=!0;const Ex=function(t,e){T(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tr.logLevel=le.VERBOSE,Qn=Tr.log.bind(Tr),e&&ec.set("logging_enabled",!0)):typeof t=="function"?Qn=t:(Qn=null,ec.remove("logging_enabled"))},qe=function(...t){if(hh===!0&&(hh=!1,Qn===null&&ec.get("logging_enabled")===!0&&Ex(!0)),Qn){const e=ci.apply(null,t);Qn(e)}},ui=function(t){return function(...e){qe(t,...e)}},tc=function(...t){const e="FIREBASE INTERNAL ERROR: "+ci(...t);Tr.error(e)},on=function(...t){const e=`FIREBASE FATAL ERROR: ${ci(...t)}`;throw Tr.error(e),new Error(e)},ut=function(...t){const e="FIREBASE WARNING: "+ci(...t);Tr.warn(e)},Sx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Dm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ur="[MIN_NAME]",er="[MAX_NAME]",Yr=function(t,e){if(t===e)return 0;if(t===Ur||e===er)return-1;if(e===Ur||t===er)return 1;{const n=fh(t),r=fh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ix=function(t,e){return t===e?0:t<e?-1:1},os=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Me(e))},uu=function(t){if(typeof t!="object"||t===null)return Me(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Me(e[r]),n+=":",n+=uu(t[e[r]]);return n+="}",n},Om=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Lm=function(t){T(!Dm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},bx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Rx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Px=new RegExp("^-?(0*)\\d{1,10}$"),jx=-2147483648,Mx=2147483647,fh=function(t){if(Px.test(t)){const e=Number(t);if(e>=jx&&e<=Mx)return e}return null},qr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ax=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Es=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(e)}}class Rr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="5",Fm="v",zm="s",Um="r",$m="f",Bm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hm="ls",Wm="p",nc="ac",Gm="websocket",Vm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Lx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Km(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let r;if(e===Gm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Vm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Lx(t)&&(n.ns=t.namespace);const s=[];return dt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $v(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl={},Gl={};function hu(t){const e=t.toString();return Wl[e]||(Wl[e]=new Fx),Wl[e]}function zx(t,e){const n=t.toString();return Gl[n]||(Gl[n]=e()),Gl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&qr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="start",$x="close",Bx="pLPCommand",Hx="pRTLPCB",Ym="id",qm="pw",Xm="ser",Wx="cb",Gx="seg",Vx="ts",Qx="d",Kx="dframe",Jm=1870,Zm=30,Yx=Jm-Zm,qx=25e3,Xx=3e4;class wr{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ui(e),this.stats_=hu(n),this.urlFn=l=>(this.appCheckToken&&(l[nc]=this.appCheckToken),Km(n,Vm,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ux(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xx)),kx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fu((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ph)this.id=a,this.password=l;else if(o===$x)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ph]="t",r[Xm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Wx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Fm]=du,this.transportSessionId&&(r[zm]=this.transportSessionId),this.lastSessionId&&(r[Hm]=this.lastSessionId),this.applicationId&&(r[Wm]=this.applicationId),this.appCheckToken&&(r[nc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bm.test(location.hostname)&&(r[Um]=$m);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wr.forceAllow_=!0}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){return wr.forceAllow_?!0:!wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bx()&&!Tx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vm(n),s=Om(r,Yx);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Kx]="t",r[Ym]=e,r[qm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Me(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nx(),window[Bx+this.uniqueCallbackIdentifier]=e,window[Hx+this.uniqueCallbackIdentifier]=n,this.myIFrame=fu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qe("frame writing exception"),a.stack&&qe(a.stack),qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ym]=this.myID,e[qm]=this.myPW,e[Xm]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zm+r.length<=Jm;){const o=this.pendingSegs.shift();r=r+"&"+Gx+s+"="+o.seg+"&"+Vx+s+"="+o.ts+"&"+Qx+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(qx)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=16384,Zx=45e3;let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);class Rt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ui(this.connId),this.stats_=hu(n),this.connURL=Rt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Fm]=du,typeof location<"u"&&location.hostname&&Bm.test(location.hostname)&&(o[Um]=$m),n&&(o[zm]=n),r&&(o[Hm]=r),s&&(o[nc]=s),i&&(o[Wm]=i),Km(e,Gm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hn.set("previous_websocket_failure",!0);try{let r;Nm(),this.mySock=new Eo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Eo!==null&&!Rt.forceDisallow_}static previouslyFailed(){return Hn.isInMemoryStorage||Hn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Om(n,Jx);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wr,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let r=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rt];else{const s=this.transports_=[];for(const i of Ys.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ys.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ys.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=6e4,t1=5e3,n1=10*1024,r1=100*1024,Vl="t",mh="d",s1="s",gh="r",i1="e",yh="o",vh="a",_h="n",xh="p",o1="h";class l1{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ui("c:"+this.id+":"),this.transportManager_=new Ys(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Es(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vl in e){const n=e[Vl];n===vh?this.upgradeIfSecondaryHealthy_():n===gh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=os("t",e),r=os("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_h,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=os("t",e),r=os("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=os(Vl,e);if(mh in e){const r=e[mh];if(n===o1){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===_h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===s1?this.onConnectionShutdown_(r):n===gh?this.onReset_(r):n===i1?tc("Server Error: "+r):n===yh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),du!==r&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Es(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Es(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends tg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new So}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=32,Ch=768;class ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Z(){return new ie("")}function H(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rn(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function a1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function Ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ie(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=H(t),r=H(e);if(n===null)return e;if(n===r)return et(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pu(t,e){if(Rn(t)!==Rn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Rn(t)>Rn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class c1{constructor(e,n){this.errorPrefix_=n,this.parts_=rg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nl(this.parts_[r]);ig(this)}}function u1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nl(e),ig(t)}function d1(t){const e=t.parts_.pop();t.byteLength_-=nl(e),t.parts_.length>0&&(t.byteLength_-=1)}function ig(t){if(t.byteLength_>Ch)throw new Error(t.errorPrefix_+"has a key path longer than "+Ch+" bytes ("+t.byteLength_+").");if(t.parts_.length>wh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wh+") or object contains a cycle "+zn(t))}function zn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends tg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new mu}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,h1=60*5*1e3,Nh=30*1e3,f1=1.3,p1=3e4,m1="server_kill",Eh=3;class Zt extends eg{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Zt.nextPersistentConnectionId_++,this.log_=ui("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=h1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Nm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&So.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Me(i)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new tl,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Zt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&an(e,"w")){const r=zr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||s_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=r_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Me(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tc("Unrecognized action received from server: "+Me(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p1&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*f1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Zt.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new l1(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{ut(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(m1)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ut(h),l())}}}interrupt(e){qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],eh(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>uu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ie(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Eh&&(this.reconnectDelay_=Nh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Eh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jm.replace(/\./g,"-")]=1,Cm()?e["framework.cordova"]=1:Xv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=So.getInstance().currentlyOnline();return eh(this.interruptReasons_)&&e}}Zt.nextPersistentConnectionId_=0;Zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new W(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new W(Ur,e),s=new W(Ur,n);return this.compare(r,s)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai;class og extends rl{static get __EMPTY_NODE(){return Ai}static set __EMPTY_NODE(e){Ai=e}compare(e,n){return Yr(e.name,n.name)}isDefinedOn(e){throw Qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return W.MIN}maxPost(){return new W(er,Ai)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new W(e,Ai)}toString(){return".key"}}const Pr=new og;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ze.RED,this.left=s??ot.EMPTY_NODE,this.right=i??ot.EMPTY_NODE}copy(e,n,r,s,i){return new ze(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ot.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class g1{copy(e,n,r,s,i){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ot{constructor(e,n=ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Di(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Di(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Di(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Di(this.root_,null,this.comparator_,!0,e)}}ot.EMPTY_NODE=new g1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){return Yr(t.name,e.name)}function gu(t,e){return Yr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function v1(t){rc=t}const lg=function(t){return typeof t=="number"?"number:"+Lm(t):"string:"+t},ag=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else T(t===rc||t.isEmpty(),"priority of unexpected type.");T(t===rc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;class Le{constructor(e,n=Le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ag(this.priorityNode_)}static set __childrenNodeConstructor(e){Sh=e}static get __childrenNodeConstructor(){return Sh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return V(e)?this:H(e)===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=H(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(T(r!==".priority"||Rn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Le.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+lg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Lm(this.value_):e+=this.value_,this.lazyHash_=Am(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Le.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Le.VALUE_TYPE_ORDER.indexOf(n),i=Le.VALUE_TYPE_ORDER.indexOf(r);return T(s>=0,"Unknown leaf type: "+n),T(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg,ug;function _1(t){cg=t}function x1(t){ug=t}class w1 extends rl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Yr(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(er,new Le("[PRIORITY-POST]",ug))}makePost(e,n){const r=cg(e);return new W(n,new Le("[PRIORITY-POST]",r))}toString(){return".priority"}}const xe=new w1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=Math.log(2);class N1{constructor(e){const n=i=>parseInt(Math.log(i)/C1,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ko=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new ze(f,h.node,ze.BLACK,null,null);{const v=parseInt(d/2,10)+l,y=s(l,v),w=s(v+1,c);return h=t[v],f=n?n(h):h,new ze(f,h.node,ze.BLACK,y,w)}},i=function(l){let c=null,d=null,h=t.length;const f=function(y,w){const E=h-y,_=h;h-=y;const p=s(E+1,_),g=t[E],C=n?n(g):g;v(new ze(C,g.node,w,null,p))},v=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){const w=l.nextBitIsOne(),E=Math.pow(2,l.count-(y+1));w?f(E,ze.BLACK):(f(E,ze.BLACK),f(E,ze.RED))}return d},o=new N1(t.length),a=i(o);return new ot(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;const lr={};class Xt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return T(lr&&xe,"ChildrenNode.ts has not been loaded"),Ql=Ql||new Xt({".priority":lr},{".priority":xe}),Ql}get(e){const n=zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ot?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){T(e!==Pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(W.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=ko(r,e.getCompare()):a=lr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Xt(d,c)}addToIndexes(e,n){const r=wo(this.indexes_,(s,i)=>{const o=zr(this.indexSet_,i);if(T(o,"Missing index implementation for "+i),s===lr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(W.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ko(a,o.getCompare())}else return lr;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new W(e.name,a))),l.insert(e,e.node)}});return new Xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=wo(this.indexes_,s=>{if(s===lr)return s;{const i=n.get(e.name);return i?s.remove(new W(e.name,i)):s}});return new Xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class B{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ag(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return as||(as=new B(new ot(gu),null,Xt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?as:n}}getChild(e){const n=H(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new W(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?as:this.priorityNode_;return new B(s,o,i)}}updateChild(e,n){const r=H(e);if(r===null)return n;{T(H(e)!==".priority"||Rn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(xe,(o,a)=>{n[o]=a.val(e),r++,i&&B.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+lg(this.getPriority().val())+":"),this.forEachChild(xe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Am(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new W(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new W(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new W(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,W.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,W.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===di?-1:0}withIndex(e){if(e===Pr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(xe),s=n.getIterator(xe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Pr?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class E1 extends B{constructor(){super(new ot(gu),B.EMPTY_NODE,Xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const di=new E1;Object.defineProperties(W,{MIN:{value:new W(Ur,B.EMPTY_NODE)},MAX:{value:new W(er,di)}});og.__EMPTY_NODE=B.EMPTY_NODE;Le.__childrenNodeConstructor=B;v1(di);x1(di);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=!0;function Ue(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Le(n,Ue(e))}if(!(t instanceof Array)&&S1){const n=[];let r=!1;if(dt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ue(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new W(o,l)))}}),n.length===0)return B.EMPTY_NODE;const i=ko(n,y1,o=>o.name,gu);if(r){const o=ko(n,xe.getCompare());return new B(i,Ue(e),new Xt({".priority":o},{".priority":xe}))}else return new B(i,Ue(e),Xt.Default)}else{let n=B.EMPTY_NODE;return dt(t,(r,s)=>{if(an(t,r)&&r.substring(0,1)!=="."){const i=Ue(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ue(e))}}_1(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends rl{constructor(e){super(),this.indexPath_=e,T(!V(e)&&H(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Yr(e.name,n.name):i}makePost(e,n){const r=Ue(e),s=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new W(n,s)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,di);return new W(er,e)}toString(){return rg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends rl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Yr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(e,n){const r=Ue(e);return new W(n,r)}toString(){return".value"}}const b1=new I1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return{type:"value",snapshotNode:t}}function $r(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function T1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(qs(n,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($r(n,r)):o.trackChildChange(Xs(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(xe,(s,i)=>{n.hasChild(s)||r.trackChildChange(qs(s,i))}),n.isLeafNode()||n.forEachChild(xe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Xs(s,i,o))}else r.trackChildChange($r(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.indexedFilter_=new yu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Js.getStartPost_(e),this.endPost_=Js.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new W(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(B.EMPTY_NODE);const i=this;return n.forEachChild(xe,(o,a)=>{i.matches(new W(o,a))||(s=s.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Js(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new W(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=B.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(B.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,v)=>h(v,f)}else o=this.index_.getCompare();const a=e;T(a.numChildren()===this.limit_,"");const l=new W(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:o(f,l);if(d&&!r.isEmpty()&&v>=0)return i!=null&&i.trackChildChange(Xs(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(qs(n,h));const w=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange($r(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(qs(c.name,c.node)),i.trackChildChange($r(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xe}copy(){const e=new vu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P1(t){return t.loadsAllData()?new yu(t.getIndex()):t.hasLimit()?new R1(t):new Js(t)}function kh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===xe?n="$priority":t.index_===b1?n="$value":t.index_===Pr?n="$key":(T(t.index_ instanceof k1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Me(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Me(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Me(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Me(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Me(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ih(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==xe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends eg{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ui("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Io.getListenId_(e,r),a={};this.listens_[o]=a;const l=kh(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),zr(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Io.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kh(e._queryParams),r=e._path.toString(),s=new tl;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+i_(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vs(a.responseText)}catch{ut("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ut("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return{value:null,children:new Map}}function hg(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=H(e);t.children.has(r)||t.children.set(r,bo());const s=t.children.get(r);e=ae(e),hg(s,e,n)}}function sc(t,e,n){t.value!==null?n(e,t.value):M1(t,(r,s)=>{const i=new ie(e.toString()+"/"+r);sc(s,i,n)})}function M1(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=10*1e3,D1=30*1e3,O1=5*60*1e3;class L1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new A1(e);const r=bh+(D1-bh)*Math.random();Es(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;dt(e,(s,i)=>{i>0&&an(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Es(this.reportStats_.bind(this),Math.floor(Math.random()*2*O1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function fg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _u(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jt.ACK_USER_WRITE,this.source=fg()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ie(e));return new To(Z(),n,this.revert)}}else return T(H(this.path)===e,"operationForChild called for unrelated child."),new To(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.source=e,this.path=n,this.type=jt.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new Zs(this.source,Z()):new Zs(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jt.OVERWRITE}operationForChild(e){return V(this.path)?new tr(this.source,Z(),this.snap.getImmediateChild(e)):new tr(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jt.MERGE}operationForChild(e){if(V(this.path)){const n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new tr(this.source,Z(),n.value):new ei(this.source,Z(),n)}else return T(H(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ei(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;const n=H(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function z1(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(T1(o.childName,o.snapshotNode))}),cs(t,s,"child_removed",e,r,n),cs(t,s,"child_added",e,r,n),cs(t,s,"child_moved",i,r,n),cs(t,s,"child_changed",e,r,n),cs(t,s,"value",e,r,n),s}function cs(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>$1(t,a,l)),o.forEach(a=>{const l=U1(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function U1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $1(t,e,n){if(e.childName==null||n.childName==null)throw Qr("Should only compare child_ events.");const r=new W(e.childName,e.snapshotNode),s=new W(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){return{eventCache:t,serverCache:e}}function Ss(t,e,n,r){return sl(new Pn(e,n,r),t.serverCache)}function pg(t,e,n,r){return sl(t.eventCache,new Pn(e,n,r))}function Ro(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;const B1=()=>(Kl||(Kl=new ot(Ix)),Kl);class de{constructor(e,n=B1()){this.value=e,this.children=n}static fromObject(e){let n=new de(null);return dt(e,(r,s)=>{n=n.set(new ie(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(V(e))return null;{const r=H(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ae(e),n);return i!=null?{path:Ae(new ie(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{const n=H(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new de(null)}}set(e,n){if(V(e))return new de(n,this.children);{const r=H(e),i=(this.children.get(r)||new de(null)).set(ae(e),n),o=this.children.insert(r,i);return new de(this.value,o)}}remove(e){if(V(e))return this.children.isEmpty()?new de(null):new de(null,this.children);{const n=H(e),r=this.children.get(n);if(r){const s=r.remove(ae(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new de(null):new de(this.value,i)}else return this}}get(e){if(V(e))return this.value;{const n=H(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(V(e))return n;{const r=H(e),i=(this.children.get(r)||new de(null)).setTree(ae(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new de(this.value,o)}}fold(e){return this.fold_(Z(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ae(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Z(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(V(e))return null;{const i=H(e),o=this.children.get(i);return o?o.findOnPath_(ae(e),Ae(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Z(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);const s=H(e),i=this.children.get(s);return i?i.foreachOnPath_(ae(e),Ae(n,s),r):new de(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.writeTree_=e}static empty(){return new Ot(new de(null))}}function ks(t,e,n){if(V(e))return new Ot(new de(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=et(s,e);return i=i.updateChild(o,n),new Ot(t.writeTree_.set(s,i))}else{const s=new de(n),i=t.writeTree_.setTree(e,s);return new Ot(i)}}}function Th(t,e,n){let r=t;return dt(n,(s,i)=>{r=ks(r,Ae(e,s),i)}),r}function Rh(t,e){if(V(e))return Ot.empty();{const n=t.writeTree_.setTree(e,new de(null));return new Ot(n)}}function ic(t,e){return ir(t,e)!=null}function ir(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function Ph(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(xe,(r,s)=>{e.push(new W(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new W(r,s.value))}),e}function kn(t,e){if(V(e))return t;{const n=ir(t,e);return n!=null?new Ot(new de(n)):new Ot(t.writeTree_.subtree(e))}}function oc(t){return t.writeTree_.isEmpty()}function Br(t,e){return mg(Z(),t.writeTree_,e)}function mg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(T(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=mg(Ae(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t,e){return _g(e,t)}function H1(t,e,n,r,s){T(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ks(t.visibleWrites,e,n)),t.lastWriteId=r}function W1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function G1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&V1(a,r.path)?s=!1:Pt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Q1(t),!0;if(r.snap)t.visibleWrites=Rh(t.visibleWrites,r.path);else{const a=r.children;dt(a,l=>{t.visibleWrites=Rh(t.visibleWrites,Ae(r.path,l))})}return!0}else return!1}function V1(t,e){if(t.snap)return Pt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pt(Ae(t.path,n),e))return!0;return!1}function Q1(t){t.visibleWrites=gg(t.allWrites,K1,Z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function K1(t){return t.visible}function gg(t,e,n){let r=Ot.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Pt(n,o)?(a=et(n,o),r=ks(r,a,i.snap)):Pt(o,n)&&(a=et(o,n),r=ks(r,Z(),i.snap.getChild(a)));else if(i.children){if(Pt(n,o))a=et(n,o),r=Th(r,a,i.children);else if(Pt(o,n))if(a=et(o,n),V(a))r=Th(r,Z(),i.children);else{const l=zr(i.children,H(a));if(l){const c=l.getChild(ae(a));r=ks(r,Z(),c)}}}else throw Qr("WriteRecord should have .snap or .children")}}return r}function yg(t,e,n,r,s){if(!r&&!s){const i=ir(t.visibleWrites,e);if(i!=null)return i;{const o=kn(t.visibleWrites,e);if(oc(o))return n;if(n==null&&!ic(o,Z()))return null;{const a=n||B.EMPTY_NODE;return Br(o,a)}}}else{const i=kn(t.visibleWrites,e);if(!s&&oc(i))return n;if(!s&&n==null&&!ic(i,Z()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Pt(c.path,e)||Pt(e,c.path))},a=gg(t.allWrites,o,e),l=n||B.EMPTY_NODE;return Br(a,l)}}}function Y1(t,e,n){let r=B.EMPTY_NODE;const s=ir(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(xe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=kn(t.visibleWrites,e);return n.forEachChild(xe,(o,a)=>{const l=Br(kn(i,new ie(o)),a);r=r.updateImmediateChild(o,l)}),Ph(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=kn(t.visibleWrites,e);return Ph(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function q1(t,e,n,r,s){T(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ae(e,n);if(ic(t.visibleWrites,i))return null;{const o=kn(t.visibleWrites,i);return oc(o)?s.getChild(n):Br(o,s.getChild(n))}}function X1(t,e,n,r){const s=Ae(e,n),i=ir(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=kn(t.visibleWrites,s);return Br(o,r.getNode().getImmediateChild(n))}else return null}function J1(t,e){return ir(t.visibleWrites,e)}function Z1(t,e,n,r,s,i,o){let a;const l=kn(t.visibleWrites,e),c=ir(l,Z());if(c!=null)a=c;else if(n!=null)a=Br(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=f.getNext();for(;v&&d.length<s;)h(v,r)!==0&&d.push(v),v=f.getNext();return d}else return[]}function ew(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Po(t,e,n,r){return yg(t.writeTree,t.treePath,e,n,r)}function wu(t,e){return Y1(t.writeTree,t.treePath,e)}function jh(t,e,n,r){return q1(t.writeTree,t.treePath,e,n,r)}function jo(t,e){return J1(t.writeTree,Ae(t.treePath,e))}function tw(t,e,n,r,s,i){return Z1(t.writeTree,t.treePath,e,n,r,s,i)}function Cu(t,e,n){return X1(t.writeTree,t.treePath,e,n)}function vg(t,e){return _g(Ae(t.treePath,e),t.writeTree)}function _g(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Xs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,qs(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,$r(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Xs(r,e.snapshotNode,s.oldSnap));else throw Qr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const xg=new rw;class Nu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Pn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nr(this.viewCache_),i=tw(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){return{filter:t}}function iw(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ow(t,e,n,r,s){const i=new nw;let o,a;if(n.type===jt.OVERWRITE){const c=n;c.source.fromUser?o=lc(t,e,c.path,c.snap,r,s,i):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!V(c.path),o=Mo(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===jt.MERGE){const c=n;c.source.fromUser?o=aw(t,e,c.path,c.children,r,s,i):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ac(t,e,c.path,c.children,r,s,a,i))}else if(n.type===jt.ACK_USER_WRITE){const c=n;c.revert?o=dw(t,e,c.path,r,s,i):o=cw(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===jt.LISTEN_COMPLETE)o=uw(t,e,n.path,r,i);else throw Qr("Unknown operation type: "+n.type);const l=i.getChanges();return lw(e,o,l),{viewCache:o,changes:l}}function lw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ro(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(dg(Ro(e)))}}function wg(t,e,n,r,s,i){const o=e.eventCache;if(jo(r,n)!=null)return e;{let a,l;if(V(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=nr(e),d=c instanceof B?c:B.EMPTY_NODE,h=wu(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Po(r,nr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=H(n);if(c===".priority"){T(Rn(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=jh(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=ae(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=jh(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=Cu(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,s,i):a=o.getNode()}}return Ss(e,a,o.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function Mo(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(V(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),v,null)}else{const v=H(n);if(!l.isCompleteForPath(n)&&Rn(n)>1)return e;const y=ae(n),E=l.getNode().getImmediateChild(v).updateChild(y,r);v===".priority"?c=d.updatePriority(l.getNode(),E):c=d.updateChild(l.getNode(),v,E,y,xg,null)}const h=pg(e,c,l.isFullyInitialized()||V(n),d.filtersNodes()),f=new Nu(s,h,i);return wg(t,h,n,s,f,a)}function lc(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new Nu(s,e,i);if(V(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ss(e,c,!0,t.filter.filtersNodes());else{const h=H(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ss(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ae(n),v=a.getNode().getImmediateChild(h);let y;if(V(f))y=r;else{const w=d.getCompleteChild(h);w!=null?ng(f)===".priority"&&w.getChild(sg(f)).isEmpty()?y=w:y=w.updateChild(f,r):y=B.EMPTY_NODE}if(v.equals(y))l=e;else{const w=t.filter.updateChild(a.getNode(),h,y,f,d,o);l=Ss(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Mh(t,e){return t.eventCache.isCompleteForChild(e)}function aw(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=Ae(n,l);Mh(e,H(d))&&(a=lc(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=Ae(n,l);Mh(e,H(d))||(a=lc(t,a,d,c,s,i,o))}),a}function Ah(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function ac(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;V(n)?c=r:c=new de(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),y=Ah(t,v,f);l=Mo(t,l,new ie(h),y,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const v=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!v){const y=e.serverCache.getNode().getImmediateChild(h),w=Ah(t,y,f);l=Mo(t,l,new ie(h),w,s,i,o,a)}}),l}function cw(t,e,n,r,s,i,o){if(jo(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(V(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Mo(t,e,n,l.getNode().getChild(n),s,i,a,o);if(V(n)){let c=new de(null);return l.getNode().forEachChild(Pr,(d,h)=>{c=c.set(new ie(d),h)}),ac(t,e,n,c,s,i,a,o)}else return e}else{let c=new de(null);return r.foreach((d,h)=>{const f=Ae(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),ac(t,e,n,c,s,i,a,o)}}function uw(t,e,n,r,s){const i=e.serverCache,o=pg(e,i.getNode(),i.isFullyInitialized()||V(n),i.isFiltered());return wg(t,o,n,r,xg,s)}function dw(t,e,n,r,s,i){let o;if(jo(r,n)!=null)return e;{const a=new Nu(r,e,s),l=e.eventCache.getNode();let c;if(V(n)||H(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Po(r,nr(e));else{const h=e.serverCache.getNode();T(h instanceof B,"serverChildren would be complete if leaf node"),d=wu(r,h)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=H(n);let h=Cu(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,ae(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,B.EMPTY_NODE,ae(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Po(r,nr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||jo(r,Z())!=null,Ss(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new yu(r.getIndex()),i=P1(r);this.processor_=sw(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(B.EMPTY_NODE,a.getNode(),null),d=new Pn(l,o.isFullyInitialized(),s.filtersNodes()),h=new Pn(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=sl(h,d),this.eventGenerator_=new F1(this.query_)}get query(){return this.query_}}function fw(t){return t.viewCache_.serverCache.getNode()}function pw(t){return Ro(t.viewCache_)}function mw(t,e){const n=nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(H(e)).isEmpty())?n.getChild(e):null}function Dh(t){return t.eventRegistrations_.length===0}function gw(t,e){t.eventRegistrations_.push(e)}function Oh(t,e,n){const r=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Lh(t,e,n,r){e.type===jt.MERGE&&e.source.queryId!==null&&(T(nr(t.viewCache_),"We should always have a full cache before handling merges"),T(Ro(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=ow(t.processor_,s,e,n,r);return iw(t.processor_,i.viewCache),T(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Cg(t,i.changes,i.viewCache.eventCache.getNode(),null)}function yw(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(xe,(i,o)=>{r.push($r(i,o))}),n.isFullyInitialized()&&r.push(dg(n.getNode())),Cg(t,r,n.getNode(),e)}function Cg(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return z1(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class Ng{constructor(){this.views=new Map}}function vw(t){T(!Ao,"__referenceConstructor has already been defined"),Ao=t}function _w(){return T(Ao,"Reference.ts has not been loaded"),Ao}function xw(t){return t.views.size===0}function Eu(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return T(i!=null,"SyncTree gave us an op for an invalid query."),Lh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Lh(o,e,n,r));return i}}function Eg(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Po(n,s?r:null),l=!1;a?l=!0:r instanceof B?(a=wu(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const c=sl(new Pn(a,l,!1),new Pn(r,s,!1));return new hw(e,c)}return o}function ww(t,e,n,r,s,i){const o=Eg(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),gw(o,n),yw(o,n)}function Cw(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=jn(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Oh(c,n,r)),Dh(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Oh(l,n,r)),Dh(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!jn(t)&&i.push(new(_w())(e._repo,e._path)),{removed:i,events:o}}function Sg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function In(t,e){let n=null;for(const r of t.views.values())n=n||mw(r,e);return n}function kg(t,e){if(e._queryParams.loadsAllData())return ol(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ig(t,e){return kg(t,e)!=null}function jn(t){return ol(t)!=null}function ol(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do;function Nw(t){T(!Do,"__referenceConstructor has already been defined"),Do=t}function Ew(){return T(Do,"Reference.ts has not been loaded"),Do}let Sw=1;class Fh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new de(null),this.pendingWriteTree_=ew(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bg(t,e,n,r,s){return H1(t.pendingWriteTree_,e,n,r,s),s?fi(t,new tr(fg(),e,n)):[]}function Wn(t,e,n=!1){const r=W1(t.pendingWriteTree_,e);if(G1(t.pendingWriteTree_,e)){let i=new de(null);return r.snap!=null?i=i.set(Z(),!0):dt(r.children,o=>{i=i.set(new ie(o),!0)}),fi(t,new To(r.path,i,n))}else return[]}function hi(t,e,n){return fi(t,new tr(_u(),e,n))}function kw(t,e,n){const r=de.fromObject(n);return fi(t,new ei(_u(),e,r))}function Iw(t,e){return fi(t,new Zs(_u(),e))}function bw(t,e,n){const r=ku(t,n);if(r){const s=Iu(r),i=s.path,o=s.queryId,a=et(i,e),l=new Zs(xu(o),a);return bu(t,i,l)}else return[]}function Oo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Ig(o,e))){const l=Cw(o,e,n,r);xw(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,v)=>jn(v));if(d&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const v=Pw(f);for(let y=0;y<v.length;++y){const w=v[y],E=w.query,_=jg(t,w);t.listenProvider_.startListening(Is(E),ti(t,E),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Is(e),null):c.forEach(f=>{const v=t.queryToTagMap.get(ll(f));t.listenProvider_.stopListening(Is(f),v)}))}jw(t,c)}return a}function Tg(t,e,n,r){const s=ku(t,r);if(s!=null){const i=Iu(s),o=i.path,a=i.queryId,l=et(o,e),c=new tr(xu(a),l,n);return bu(t,o,c)}else return[]}function Tw(t,e,n,r){const s=ku(t,r);if(s){const i=Iu(s),o=i.path,a=i.queryId,l=et(o,e),c=de.fromObject(n),d=new ei(xu(a),l,c);return bu(t,o,d)}else return[]}function cc(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,v)=>{const y=et(f,s);i=i||In(v,y),o=o||jn(v)});let a=t.syncPointTree_.get(s);a?(o=o||jn(a),i=i||In(a,Z())):(a=new Ng,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=B.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((v,y)=>{const w=In(y,Z());w&&(i=i.updateImmediateChild(v,w))}));const c=Ig(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=ll(e);T(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=Mw();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const d=il(t.pendingWriteTree_,s);let h=ww(a,e,n,d,i,l);if(!c&&!o&&!r){const f=kg(a,e);h=h.concat(Aw(t,e,f))}return h}function Su(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=et(o,e),c=In(a,l);if(c)return c});return yg(s,e,i,n,!0)}function Rw(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=et(c,n);r=r||In(d,h)});let s=t.syncPointTree_.get(n);s?r=r||In(s,Z()):(s=new Ng,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Pn(r,!0,!1):null,a=il(t.pendingWriteTree_,e._path),l=Eg(s,e,a,i?o.getNode():B.EMPTY_NODE,i);return pw(l)}function fi(t,e){return Rg(e,t.syncPointTree_,null,il(t.pendingWriteTree_,Z()))}function Rg(t,e,n,r){if(V(t.path))return Pg(t,e,n,r);{const s=e.get(Z());n==null&&s!=null&&(n=In(s,Z()));let i=[];const o=H(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=vg(r,o);i=i.concat(Rg(a,l,c,d))}return s&&(i=i.concat(Eu(s,t,r,n))),i}}function Pg(t,e,n,r){const s=e.get(Z());n==null&&s!=null&&(n=In(s,Z()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=vg(r,o),d=t.operationForChild(o);d&&(i=i.concat(Pg(d,a,l,c)))}),s&&(i=i.concat(Eu(s,t,r,n))),i}function jg(t,e){const n=e.query,r=ti(t,n);return{hashFn:()=>(fw(e)||B.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?bw(t,n._path,r):Iw(t,n._path);{const i=Rx(s,n);return Oo(t,n,null,i)}}}}function ti(t,e){const n=ll(e);return t.queryToTagMap.get(n)}function ll(t){return t._path.toString()+"$"+t._queryIdentifier}function ku(t,e){return t.tagToQueryMap.get(e)}function Iu(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function bu(t,e,n){const r=t.syncPointTree_.get(e);T(r,"Missing sync point for query tag that we're tracking");const s=il(t.pendingWriteTree_,e);return Eu(r,n,s,null)}function Pw(t){return t.fold((e,n,r)=>{if(n&&jn(n))return[ol(n)];{let s=[];return n&&(s=Sg(n)),dt(r,(i,o)=>{s=s.concat(o)}),s}})}function Is(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ew())(t._repo,t._path):t}function jw(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ll(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Mw(){return Sw++}function Aw(t,e,n){const r=e._path,s=ti(t,e),i=jg(t,n),o=t.listenProvider_.startListening(Is(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)T(!jn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!V(c)&&d&&jn(d))return[ol(d).query];{let f=[];return d&&(f=f.concat(Sg(d).map(v=>v.query))),dt(h,(v,y)=>{f=f.concat(y)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Is(d),ti(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tu(n)}node(){return this.node_}}class Ru{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ae(this.path_,e);return new Ru(this.syncTree_,n)}node(){return Su(this.syncTree_,this.path_)}}const Dw=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zh=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ow(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Lw(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ow=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},Lw=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);const s=e.node();if(T(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Fw=function(t,e,n,r){return Pu(e,new Ru(n,t),r)},Mg=function(t,e,n){return Pu(t,new Tu(e),n)};function Pu(t,e,n){const r=t.getPriority().val(),s=zh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=zh(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Le(a,Ue(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Le(s))),o.forEachChild(xe,(a,l)=>{const c=Pu(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mu(t,e){let n=e instanceof ie?e:new ie(e),r=t,s=H(n);for(;s!==null;){const i=zr(r.node.children,s)||{children:{},childCount:0};r=new ju(s,r,i),n=ae(n),s=H(n)}return r}function Xr(t){return t.node.value}function Ag(t,e){t.node.value=e,uc(t)}function Dg(t){return t.node.childCount>0}function zw(t){return Xr(t)===void 0&&!Dg(t)}function al(t,e){dt(t.node.children,(n,r)=>{e(new ju(n,t,r))})}function Og(t,e,n,r){n&&!r&&e(t),al(t,s=>{Og(s,e,!0,r)}),n&&r&&e(t)}function Uw(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pi(t){return new ie(t.parent===null?t.name:pi(t.parent)+"/"+t.name)}function uc(t){t.parent!==null&&$w(t.parent,t.name,t)}function $w(t,e,n){const r=zw(n),s=an(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,uc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,uc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=/[\[\].#$\/\u0000-\u001F\u007F]/,Hw=/[\[\].#$\u0000-\u001F\u007F]/,Yl=10*1024*1024,Lg=function(t){return typeof t=="string"&&t.length!==0&&!Bw.test(t)},Fg=function(t){return typeof t=="string"&&t.length!==0&&!Hw.test(t)},Ww=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Fg(t)},Gw=function(t,e,n,r){r&&e===void 0||Au(au(t,"value"),e,n)},Au=function(t,e,n){const r=n instanceof ie?new c1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zn(r));if(typeof e=="function")throw new Error(t+"contains a function "+zn(r)+" with contents = "+e.toString());if(Dm(e))throw new Error(t+"contains "+e.toString()+" "+zn(r));if(typeof e=="string"&&e.length>Yl/3&&nl(e)>Yl)throw new Error(t+"contains a string greater than "+Yl+" utf8 bytes "+zn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(dt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Lg(o)))throw new Error(t+" contains an invalid key ("+o+") "+zn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u1(r,o),Au(t,a,r),d1(r)}),s&&i)throw new Error(t+' contains ".value" child '+zn(r)+" in addition to actual children.")}},zg=function(t,e,n,r){if(!(r&&n===void 0)&&!Fg(n))throw new Error(au(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Vw=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zg(t,e,n,r)},Qw=function(t,e){if(H(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Kw=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Lg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ww(n))throw new Error(au(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Du(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!pu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ug(t,e,n){Du(t,n),$g(t,r=>pu(r,e))}function Gt(t,e,n){Du(t,n),$g(t,r=>Pt(r,e)||Pt(e,r))}function $g(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(qw(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qn&&qe("event: "+n.toString()),qr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="repo_interrupt",Jw=25;class Zw{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bo(),this.transactionQueueTree_=new ju,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eC(t,e,n){if(t.stats_=hu(t.repoInfo_),t.forceRestClient_||Ax())t.server_=new Io(t.repoInfo_,(r,s,i,o)=>{Uh(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>$h(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zt(t.repoInfo_,e,(r,s,i,o)=>{Uh(t,r,s,i,o)},r=>{$h(t,r)},r=>{nC(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zx(t.repoInfo_,()=>new L1(t.stats_,t.server_)),t.infoData_=new j1,t.infoSyncTree_=new Fh({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hi(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Lu(t,"connected",!1),t.serverSyncTree_=new Fh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Gt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function tC(t){const n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ou(t){return Dw({timestamp:tC(t)})}function Uh(t,e,n,r,s){t.dataUpdateCount++;const i=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=wo(n,c=>Ue(c));o=Tw(t.serverSyncTree_,i,l,s)}else{const l=Ue(n);o=Tg(t.serverSyncTree_,i,l,s)}else if(r){const l=wo(n,c=>Ue(c));o=kw(t.serverSyncTree_,i,l)}else{const l=Ue(n);o=hi(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=ul(t,i)),Gt(t.eventQueue_,a,o)}function $h(t,e){Lu(t,"connected",e),e===!1&&iC(t)}function nC(t,e){dt(e,(n,r)=>{Lu(t,n,r)})}function Lu(t,e,n){const r=new ie("/.info/"+e),s=Ue(n);t.infoData_.updateSnapshot(r,s);const i=hi(t.infoSyncTree_,r,s);Gt(t.eventQueue_,r,i)}function Bg(t){return t.nextWriteId_++}function rC(t,e,n){const r=Rw(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ue(s).withIndex(e._queryParams.getIndex());cc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=hi(t.serverSyncTree_,e._path,i);else{const a=ti(t.serverSyncTree_,e);o=Tg(t.serverSyncTree_,e._path,i,a)}return Gt(t.eventQueue_,e._path,o),Oo(t.serverSyncTree_,e,n,null,!0),i},s=>(cl(t,"get for query "+Me(e)+" failed: "+s),Promise.reject(new Error(s))))}function sC(t,e,n,r,s){cl(t,"set",{path:e.toString(),value:n,priority:r});const i=Ou(t),o=Ue(n,r),a=Su(t.serverSyncTree_,e),l=Mg(o,a,i),c=Bg(t),d=bg(t.serverSyncTree_,e,l,c,!0);Du(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,v)=>{const y=f==="ok";y||ut("set at "+e+" failed: "+f);const w=Wn(t.serverSyncTree_,c,!y);Gt(t.eventQueue_,e,w),aC(t,s,f,v)});const h=Qg(t,e);ul(t,h),Gt(t.eventQueue_,h,[])}function iC(t){cl(t,"onDisconnectEvents");const e=Ou(t),n=bo();sc(t.onDisconnect_,Z(),(s,i)=>{const o=Fw(s,i,t.serverSyncTree_,e);hg(n,s,o)});let r=[];sc(n,Z(),(s,i)=>{r=r.concat(hi(t.serverSyncTree_,s,i));const o=Qg(t,s);ul(t,o)}),t.onDisconnect_=bo(),Gt(t.eventQueue_,Z(),r)}function oC(t,e,n){let r;H(e._path)===".info"?r=cc(t.infoSyncTree_,e,n):r=cc(t.serverSyncTree_,e,n),Ug(t.eventQueue_,e._path,r)}function Bh(t,e,n){let r;H(e._path)===".info"?r=Oo(t.infoSyncTree_,e,n):r=Oo(t.serverSyncTree_,e,n),Ug(t.eventQueue_,e._path,r)}function lC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Xw)}function cl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qe(n,...e)}function aC(t,e,n,r){e&&qr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Hg(t,e,n){return Su(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function Fu(t,e=t.transactionQueueTree_){if(e||dl(t,e),Xr(e)){const n=Gg(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&cC(t,pi(e),n)}else Dg(e)&&al(e,n=>{Fu(t,n)})}function cC(t,e,n){const r=n.map(c=>c.currentWriteId),s=Hg(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];T(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=et(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{cl(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Wn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();dl(t,Mu(t.transactionQueueTree_,e)),Fu(t,t.transactionQueueTree_),Gt(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)qr(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ut("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ul(t,e)}},o)}function ul(t,e){const n=Wg(t,e),r=pi(n),s=Gg(t,n);return uC(t,s,r),r}function uC(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=et(n,l.path);let d=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Jw)d=!0,h="maxretry",s=s.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Hg(t,l.path,o);l.currentInputSnapshot=f;const v=e[a].update(f.val());if(v!==void 0){Au("transaction failed: Data returned ",v,l.path);let y=Ue(v);typeof v=="object"&&v!=null&&an(v,".priority")||(y=y.updatePriority(f.getPriority()));const E=l.currentWriteId,_=Ou(t),p=Mg(y,f,_);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=p,l.currentWriteId=Bg(t),o.splice(o.indexOf(E),1),s=s.concat(bg(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Wn(t.serverSyncTree_,E,!0))}else d=!0,h="nodata",s=s.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0))}Gt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}dl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)qr(r[a]);Fu(t,t.transactionQueueTree_)}function Wg(t,e){let n,r=t.transactionQueueTree_;for(n=H(e);n!==null&&Xr(r)===void 0;)r=Mu(r,n),e=ae(e),n=H(e);return r}function Gg(t,e){const n=[];return Vg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Vg(t,e,n){const r=Xr(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);al(e,s=>{Vg(t,s,n)})}function dl(t,e){const n=Xr(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Ag(e,n.length>0?n:void 0)}al(e,r=>{dl(t,r)})}function Qg(t,e){const n=pi(Wg(t,e)),r=Mu(t.transactionQueueTree_,e);return Uw(r,s=>{ql(t,s)}),ql(t,r),Og(r,s=>{ql(t,s)}),n}function ql(t,e){const n=Xr(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Wn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Ag(e,void 0):n.length=i+1,Gt(t.eventQueue_,pi(e),s);for(let o=0;o<r.length;o++)qr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function hC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const Hh=function(t,e){const n=fC(t),r=n.namespace;n.domain==="firebase.com"&&on(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&on("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Sx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qm(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ie(n.pathString)}},fC=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=dC(t.substring(d,h)));const f=hC(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}class Yg{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return V(this._path)?null:ng(this._path)}get ref(){return new Vt(this._repo,this._path)}get _queryIdentifier(){const e=Ih(this._queryParams),n=uu(e);return n==="{}"?"default":n}get _queryObject(){return Ih(this._queryParams)}isEqual(e){if(e=Kr(e),!(e instanceof zu))return!1;const n=this._repo===e._repo,r=pu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+a1(this._path)}}class Vt extends zu{constructor(e,n){super(e,n,new vu,!1)}get parent(){const e=sg(this._path);return e===null?null:new Vt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Hr{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ie(e),r=Lo(this.ref,e);return new Hr(this._node.getChild(n),r,xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Hr(s,Lo(this.ref,r),xe)))}hasChild(e){const n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pe(t,e){return t=Kr(t),t._checkNotDeleted("ref"),e!==void 0?Lo(t._root,e):t._root}function Lo(t,e){return t=Kr(t),H(t._path)===null?Vw("child","path",e,!1):zg("child","path",e,!1),new Vt(t._repo,Ae(t._path,e))}function Mt(t,e){t=Kr(t),Qw("set",t._path),Gw("set",e,t._path,!1);const n=new tl;return sC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Bt(t){t=Kr(t);const e=new qg(()=>{}),n=new hl(e);return rC(t._repo,t,n).then(r=>new Hr(r,new Vt(t._repo,t._path),t._queryParams.getIndex()))}class hl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Kg("value",this,new Hr(e.snapshotNode,new Vt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yg(this,e,n):null}matches(e){return e instanceof hl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Uu{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yg(this,e,n):null}createEvent(e,n){T(e.childName!=null,"Child events should have a childName.");const r=Lo(new Vt(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new Kg(e.type,this,new Hr(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Uu?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function pC(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,h)=>{Bh(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new qg(n,i||void 0),a=e==="value"?new hl(o):new Uu(e,o);return oC(t._repo,t,a),()=>Bh(t._repo,t,a)}function fl(t,e,n,r){return pC(t,"value",e,n,r)}vw(Vt);Nw(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="FIREBASE_DATABASE_EMULATOR_HOST",dc={};let gC=!1;function yC(t,e,n,r){t.repoInfo_=new Qm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vC(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||on("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Hh(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[mC]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=Hh(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const d=s&&l?new Rr(Rr.OWNER):new Ox(t.name,t.options,e);Kw("Invalid Firebase Database URL",o),V(o.path)||on("Database URL must point to the root of a Firebase Database (not including a child path).");const h=xC(a,t,d,new Dx(t.name,n));return new wC(h,t)}function _C(t,e){const n=dc[e];(!n||n[t.key]!==t)&&on(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lC(t),delete n[t.key]}function xC(t,e,n,r){let s=dc[e.name];s||(s={},dc[e.name]=s);let i=s[t.toURLString()];return i&&on("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Zw(t,gC,n,r),s[t.toURLString()]=i,i}class wC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_C(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&on("Cannot call "+e+" on a deleted database.")}}function CC(t=ax(),e){const n=sx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Kv("database");r&&NC(n,...r)}return n}function NC(t,e,n,r={}){t=Kr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&on("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&on('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Rr(Rr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Yv(r.mockUserToken,t.app.options.projectId);i=new Rr(o)}yC(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){xx(lx),No(new Qs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return vC(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),br(uh,dh,t),br(uh,dh,"esm2017")}Zt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};EC();const SC={apiKey:"AIzaSyBplm3Xt3Mru_Sxi2g3uptgbzXbQ8KZ0Aw",authDomain:"bowling-fun.firebaseapp.com",databaseURL:"https://bowling-fun-default-rtdb.firebaseio.com",projectId:"bowling-fun",storageBucket:"bowling-fun.firebasestorage.app",messagingSenderId:"1041099466681",appId:"1:1041099466681:web:55553970cd19f150dc3868"},kC=Tm(SC),je=CC(kC);function IC(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[d,h]=A.useState([]),[f,v]=A.useState(""),[y,w]=A.useState(0),[E,_]=A.useState(0),[p,g]=A.useState(null),[C,I]=A.useState(!1),[P,j]=A.useState({}),M=.25,K=m=>(m*M).toFixed(2),U=(m,x)=>`${m}->${x}`,Y=()=>`${window.location.origin+window.location.pathname}?join=${t}`,Ne=m=>{let x=0,N=0;return Object.entries(P).forEach(([S,O])=>{if(!O)return;const[b,$]=S.split("->").map(Number);$===m&&(x+=O),b===m&&(N+=O)}),x-N},Oe=()=>Math.random().toString(36).substring(2,8).toUpperCase();A.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("join");x&&r(x.toUpperCase())},[]),A.useEffect(()=>{if(!t)return;const m=Pe(je,`games/${t}`),x=fl(m,N=>{const S=N.val();S&&(h(S.players||[]),w(S.currentRound||0),_(S.activePlayerIndex||0),g(S.activePlayerChoice||null),I(S.gameStarted||!1),j(S.ledger||{}))});return()=>x()},[t]);const ke=()=>{const m=Oe();e(m),i(!0),a(!0);const x=Pe(je,`games/${m}`);Mt(x,{players:[],currentRound:0,activePlayerIndex:0,activePlayerChoice:null,gameStarted:!1,ledger:{},createdAt:Date.now()})},we=async()=>{if(!n.trim())return;const m=n.toUpperCase(),x=Pe(je,`games/${m}`);(await Bt(x)).exists()?(e(m),i(!1),a(!0)):alert("Game not found! Check the code and try again.")},ye=m=>{if(!t)return;const x=Pe(je,`games/${t}`);Mt(x,{players:d,currentRound:y,activePlayerIndex:E,activePlayerChoice:p,gameStarted:C,ledger:P,...m})},ne=()=>{if(f.trim()&&!C){const m=[...d,{id:Date.now(),name:f.trim(),score:0}];ye({players:m}),v("")}},R=()=>{d.length>=2&&ye({gameStarted:!0,currentRound:1,activePlayerIndex:0,activePlayerChoice:null})},L=m=>{ye({activePlayerChoice:m})},z=m=>{const x=d[E],N=d.filter((b,$)=>$!==E),S=d.map((b,$)=>$===E?p===m?{...b,score:b.score+(d.length-1)}:b:(p==="make"?"miss":"make")===m?{...b,score:b.score+1}:b),O={...P};p===m?N.forEach(b=>{const $=U(b.id,x.id);O[$]=(O[$]||0)+1}):N.forEach(b=>{const $=U(x.id,b.id);O[$]=(O[$]||0)+1}),ye({players:S,ledger:O,currentRound:y<50?y+1:y,activePlayerIndex:y<50?(E+1)%d.length:E,activePlayerChoice:null})},J=()=>{ye({players:d.map(m=>({...m,score:0})),ledger:{},currentRound:1,activePlayerIndex:0,activePlayerChoice:null})},ee=()=>{a(!1),e(""),r(""),i(!1)},se=d[E],Ie=y>50;return o?u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"25%",right:"25%",backgroundColor:"rgb(8, 145, 178)"}}),u.jsx("div",{className:"game-content",children:u.jsx("div",{className:"game-max-width",children:u.jsxs("div",{className:"game-card",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-cyan-500 via-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-cyan-500/50",children:u.jsx(Wa,{size:20,className:"text-white sm:w-6 sm:h-6"})}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text-cyan",children:"Makes or Misses"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"info-box",children:[u.jsx("span",{className:"text-xs sm:text-sm text-primary",children:"Code:"}),u.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg ml-2 text-white",children:t})]}),u.jsx("button",{onClick:()=>c(!l),className:"btn-primary-cyan p-2",title:"Show QR code to join",children:u.jsx(el,{size:20})})]})]}),l&&u.jsx("div",{className:"mb-6 bg-slate-800/50 border-2 border-slate-700 rounded-lg p-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Scan to Join Game"}),u.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg shadow-lg",children:u.jsx(li,{value:Y(),size:200,level:"H",includeMargin:!0})}),u.jsx("p",{className:"text-sm text-slate-400 mt-3 text-center max-w-sm",children:"Scan this QR code with your phone camera to join instantly"}),u.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Or manually enter code: ",u.jsx("span",{className:"font-mono font-bold",children:t})]}),u.jsx("button",{onClick:()=>c(!1),className:"mt-3 text-cyan-400 hover:text-cyan-300 font-semibold text-sm",children:"Hide QR Code"})]})}),C?u.jsxs("div",{className:"space-y-6",children:[Ie?u.jsxs("div",{className:"bg-gradient-to-r from-amber-900/30 to-orange-900/30 rounded-lg p-6 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:" Game Over! "}),u.jsx("p",{className:"text-xl mb-6 text-slate-300",children:"50 rounds completed!"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/50 rounded-lg p-4 text-center",children:[u.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Round ",y]}),u.jsxs("p",{className:"text-lg mt-2 text-slate-300",children:[u.jsx("span",{className:"font-bold text-purple-600",children:se==null?void 0:se.name}),"'s turn to choose"]})]}),u.jsxs("div",{className:"bg-amber-900/30 border-2 border-amber-500 rounded-lg p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-center mb-4 text-white",children:[se==null?void 0:se.name,", make your choice:"]}),u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsxs("button",{onClick:()=>L("make"),disabled:p!==null,className:`flex-1 py-4 rounded-lg font-bold text-lg transition ${p==="make"?"bg-green-500 text-white":"bg-slate-800/50 border-2 border-green-500 text-green-600 hover:bg-green-50"} disabled:opacity-50`,children:[u.jsx(Xd,{className:"inline mr-2",size:24}),"Make"]}),u.jsxs("button",{onClick:()=>L("miss"),disabled:p!==null,className:`flex-1 py-4 rounded-lg font-bold text-lg transition ${p==="miss"?"bg-red-500 text-white":"bg-slate-800/50 border-2 border-red-500 text-red-600 hover:bg-red-50"} disabled:opacity-50`,children:[u.jsx(Jd,{className:"inline mr-2",size:24}),"Miss"]})]}),p&&u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 mt-4",children:[u.jsxs("p",{className:"text-center text-slate-300 mb-3",children:[u.jsx("span",{className:"font-bold",children:se==null?void 0:se.name})," chose:"," ",u.jsx("span",{className:`font-bold ml-2 ${p==="make"?"text-green-600":"text-red-600"}`,children:p==="make"?"MAKES":"MISSES"})]}),u.jsxs("p",{className:"text-center text-sm text-slate-400 mb-4",children:["All other players automatically get:"," ",u.jsx("span",{className:`font-bold ml-2 ${p==="miss"?"text-green-600":"text-red-600"}`,children:p==="miss"?"MAKES":"MISSES"})]}),u.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[u.jsx("h4",{className:"font-bold text-center mb-3 text-white",children:"What was the result?"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>z("make"),className:"flex-1 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition font-bold",children:[u.jsx(Xd,{className:"inline mr-2",size:20}),"Made It!"]}),u.jsxs("button",{onClick:()=>z("miss"),className:"flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition font-bold",children:[u.jsx(Jd,{className:"inline mr-2",size:20}),"Missed!"]})]})]})]})]}),u.jsx("div",{className:"player-grid",children:d.map((m,x)=>{const N=x===E,S=N?p:p==="make"?"miss":p==="miss"?"make":null;return u.jsxs("div",{className:`player-card ${N?"active bg-amber-900/30 border-2 border-amber-500":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("span",{className:"font-semibold text-sm sm:text-base text-white",children:[m.name," ",N&&""]}),u.jsx("span",{className:"score-badge",children:m.score})]}),S&&u.jsx("div",{className:`text-center py-2 rounded font-semibold text-sm ${S==="make"?"bg-green-900/40 text-green-300":"bg-red-900/40 text-red-300"}`,children:S==="make"?"MAKES":"MISSES"})]},m.id)})})]}),u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-purple-900/30 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx($t,{className:"text-amber-400",size:24}),"Leaderboard"]}),u.jsx("div",{className:"space-y-2",children:[...d].sort((m,x)=>x.score-m.score).map((m,x)=>{const N=(m.score*M).toFixed(2),S=K(Ne(m.id));return u.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 px-4 py-2 rounded-lg",children:[u.jsxs("span",{className:"font-semibold",children:[x===0&&""," ",x===1&&""," ",x===2&&""," ",m.name]}),u.jsxs("span",{className:"font-bold text-purple-600 text-sm",children:[m.score," pts ($",N,")  Net $",S]})]},m.id)})}),u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4 mt-4",children:[u.jsx("h4",{className:"font-bold text-md mb-2 text-white",children:" Owes Breakdown"}),d.length<=1?u.jsx("p",{className:"text-slate-400 text-sm",children:"Add more players to calculate owes."}):(()=>{const m={};d.forEach(N=>m[N.id]=[]),Object.entries(P).forEach(([N,S])=>{if(!S)return;const[O,b]=N.split("->").map(Number),$=d.find(ft=>ft.id===O),be=d.find(ft=>ft.id===b);!$||!be||m[b].push({debtorId:O,debtorName:$.name,pts:S,money:K(S)})});const x=d.map(N=>{const S=m[N.id]||[],O=S.reduce((b,$)=>b+Number($.money),0).toFixed(2);return{cr:N,items:S,total:O}}).filter(N=>N.items.length>0);return x.length===0?u.jsx("p",{className:"text-slate-300 text-sm",children:"No debts yet."}):u.jsx("div",{className:"space-y-4",children:x.map(({cr:N,items:S,total:O})=>u.jsxs("div",{className:"bg-slate-800/50 rounded-md p-3",children:[u.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:["Payouts to ",u.jsx("span",{className:"font-semibold",children:N.name}),":"]}),u.jsx("ul",{className:"list-disc ml-5 space-y-1",children:S.map(b=>u.jsxs("li",{className:"text-white text-sm",children:[b.debtorName," owes ",N.name," $",b.money," (",b.pts," pts)"]},b.debtorId))}),u.jsxs("p",{className:"text-slate-300 text-sm mt-2",children:[N.name," total to collect: ",u.jsxs("span",{className:"font-semibold",children:["$",O]})]})]},N.id))})})()]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:J,className:"flex-1 btn-primary-cyan",children:"Reset Scores"}),u.jsx("button",{onClick:ee,className:"flex-1 btn-secondary",children:"Leave Game"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:u.jsxs("p",{className:"text-cyan-300",children:["Share code ",u.jsx("span",{className:"font-mono font-bold text-xl",children:t})," with friends or show them the QR code!"]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("input",{type:"text",value:f,onChange:m=>v(m.target.value),onKeyDown:m=>m.key==="Enter"&&ne(),placeholder:"Enter Bowler's Name",className:"game-input"}),u.jsxs("button",{onClick:ne,className:"btn-primary-orange flex items-center justify-center gap-2",children:[u.jsx(ou,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Add Player"}),u.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),d.length>0&&u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 text-white",children:["Bowlers (",d.length,")"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:d.map(m=>u.jsx("div",{className:"bg-slate-800/50 px-4 py-2 rounded-lg shadow text-white",children:m.name},m.id))})]}),u.jsx("button",{onClick:R,disabled:d.length<2,className:"w-full bg-green-500 text-white py-4 rounded-lg hover:bg-green-600 transition font-bold text-xl disabled:bg-gray-300 disabled:cursor-not-allowed",children:d.length<2?"Need at least 2 players":"Start Game"})]})]})})})]}):u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"25%",left:"25%",backgroundColor:"rgb(8, 145, 178)"}}),u.jsx("div",{className:"game-content flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full game-card",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-gradient-to-br from-cyan-500 via-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-cyan-500/50",children:u.jsx(Wa,{size:24,className:"text-white sm:w-7 sm:h-7"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text-cyan",children:"Makes or Misses"})]}),u.jsx("p",{className:"text-center text-primary mb-8 text-sm sm:text-base",children:"Multiplayer Bowling Predictor"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:ke,className:"w-full btn-primary-cyan flex items-center justify-center gap-2 text-lg sm:text-xl",children:[u.jsx(sm,{size:20,className:"sm:w-6 sm:h-6"}),"Create New Game"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-slate-900/50 text-secondary",children:"OR"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value.toUpperCase()),onKeyDown:m=>m.key==="Enter"&&we(),placeholder:"Enter Game Code",className:"w-full game-input text-center text-lg font-mono",maxLength:6}),u.jsx("button",{onClick:we,className:"w-full btn-primary-cyan text-lg sm:text-xl",children:"Join Game"})]})]})]})})]})}function bC(){var ee,se,Ie,m,x,N,S,O,b,$,be,ft;const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[d,h]=A.useState({name:"",id:null}),[f,v]=A.useState({name:"",id:null}),[y,w]=A.useState(!1),[E,_]=A.useState(1),[p,g]=A.useState({game1:{player1:null,player2:null},game2:{player1:null,player2:null},game3:{player1:null,player2:null}}),[C,I]=A.useState({perGame:5,totals:5}),P=()=>`${window.location.origin+window.location.pathname}?join=${t}`,j=()=>Math.random().toString(36).substring(2,8).toUpperCase();A.useEffect(()=>{const q=new URLSearchParams(window.location.search).get("join");q&&r(q.toUpperCase())},[]),A.useEffect(()=>{if(!t)return;const F=Pe(je,`matchplay/${t}`),q=fl(F,oe=>{const re=oe.val();re&&(h(re.player1||{name:"",id:null}),v(re.player2||{name:"",id:null}),w(re.gameStarted||!1),_(re.currentGame||1),g(re.scores||{game1:{player1:null,player2:null},game2:{player1:null,player2:null},game3:{player1:null,player2:null}}),I(re.stakes||{perGame:5,totals:5}))});return()=>q()},[t]);const M=()=>{const F=j();e(F),i(!0),a(!0);const q=Pe(je,`matchplay/${F}`);Mt(q,{player1:{name:"",id:null},player2:{name:"",id:null},gameStarted:!1,currentGame:1,scores:{game1:{player1:null,player2:null},game2:{player1:null,player2:null},game3:{player1:null,player2:null}},stakes:{perGame:5,totals:5},createdAt:Date.now()})},K=async()=>{if(!n.trim())return;const F=n.toUpperCase(),q=Pe(je,`matchplay/${F}`);(await Bt(q)).exists()?(e(F),i(!1),a(!0)):alert("Game not found! Check the code and try again.")},U=async F=>{if(t)try{const q=Pe(je,`matchplay/${t}`),re=(await Bt(q)).val()||{};await Mt(q,{...re,...F})}catch(q){console.error("Error updating game:",q)}},Y=(F,q)=>{U(F===1?{player1:{name:q,id:Date.now()}}:{player2:{name:q,id:Date.now()}})},Ne=()=>{d.name&&f.name&&U({gameStarted:!0})},Oe=async(F,q,oe)=>{if(!t){console.log("No game code");return}console.log("Updating score:",{gameNum:F,playerNum:q,score:oe});try{const re=Pe(je,`matchplay/${t}`),Ge=(await Bt(re)).val();if(console.log("Current data:",Ge),!Ge){console.error("No current data found");return}const Ve=JSON.parse(JSON.stringify(Ge.scores||{})),Je=`game${F}`,mi=`player${q}`;Ve[Je]||(Ve[Je]={player1:null,player2:null}),Ve[Je][mi]=oe===""?null:parseInt(oe),console.log("New scores:",Ve),await Mt(re,{...Ge,scores:Ve}),console.log("Score updated successfully")}catch(re){console.error("Error updating score:",re),alert("Error updating score: "+re.message)}},ke=async(F,q)=>{if(t)try{const oe=Pe(je,`matchplay/${t}`),Ee=(await Bt(oe)).val();if(!Ee)return;const Ge={...Ee.stakes};Ge[F]=parseFloat(q)||0,await Mt(oe,{...Ee,stakes:Ge})}catch(oe){console.error("Error updating stakes:",oe)}},we=()=>{var oe,re,Ee,Ge,Ve,Je;const F=(((oe=p==null?void 0:p.game1)==null?void 0:oe.player1)||0)+(((re=p==null?void 0:p.game2)==null?void 0:re.player1)||0)+(((Ee=p==null?void 0:p.game3)==null?void 0:Ee.player1)||0),q=(((Ge=p==null?void 0:p.game1)==null?void 0:Ge.player2)||0)+(((Ve=p==null?void 0:p.game2)==null?void 0:Ve.player2)||0)+(((Je=p==null?void 0:p.game3)==null?void 0:Je.player2)||0);return{player1:F,player2:q}},ye=()=>{let F=0,q=0;["game1","game2","game3"].forEach(Ge=>{var mi,$u;const Ve=(mi=p==null?void 0:p[Ge])==null?void 0:mi.player1,Je=($u=p==null?void 0:p[Ge])==null?void 0:$u.player2;Ve!=null&&Je!==null&&Je!==void 0&&(Ve>Je?F+=C.perGame:Je>Ve&&(q+=C.perGame))});const oe=we();oe.player1>oe.player2?F+=C.totals:oe.player2>oe.player1&&(q+=C.totals);const re=F-q,Ee=q-F;return{player1:re,player2:Ee}},ne=()=>{U({scores:{game1:{player1:null,player2:null},game2:{player1:null,player2:null},game3:{player1:null,player2:null}},currentGame:1})},R=()=>{a(!1),e(""),r(""),i(!1)},L=we(),z=ye(),J=((ee=p==null?void 0:p.game1)==null?void 0:ee.player1)!==null&&((se=p==null?void 0:p.game1)==null?void 0:se.player1)!==void 0&&((Ie=p==null?void 0:p.game1)==null?void 0:Ie.player2)!==null&&((m=p==null?void 0:p.game1)==null?void 0:m.player2)!==void 0&&((x=p==null?void 0:p.game2)==null?void 0:x.player1)!==null&&((N=p==null?void 0:p.game2)==null?void 0:N.player1)!==void 0&&((S=p==null?void 0:p.game2)==null?void 0:S.player2)!==null&&((O=p==null?void 0:p.game2)==null?void 0:O.player2)!==void 0&&((b=p==null?void 0:p.game3)==null?void 0:b.player1)!==null&&(($=p==null?void 0:p.game3)==null?void 0:$.player1)!==void 0&&((be=p==null?void 0:p.game3)==null?void 0:be.player2)!==null&&((ft=p==null?void 0:p.game3)==null?void 0:ft.player2)!==void 0;return o?u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",right:"30%",backgroundColor:"rgb(34, 197, 94)"}}),u.jsx("div",{className:"game-content",children:u.jsx("div",{className:"game-max-width",children:u.jsxs("div",{className:"game-card",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-600 flex items-center justify-center shadow-lg shadow-emerald-500/50",children:u.jsx($t,{size:20,className:"text-white sm:w-6 sm:h-6"})}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text-green",children:"Match Play"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"info-box",children:[u.jsx("span",{className:"text-xs sm:text-sm text-primary",children:"Code:"}),u.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg ml-2 text-white",children:t})]}),u.jsx("button",{onClick:()=>c(!l),className:"btn-primary-green p-2",title:"Show QR code to join",children:u.jsx(el,{size:20})})]})]}),l&&u.jsx("div",{className:"mb-6 bg-slate-800/50 border-2 border-slate-700 rounded-lg p-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Scan to Join Match"}),u.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg shadow-lg",children:u.jsx(li,{value:P(),size:200,level:"H",includeMargin:!0})}),u.jsx("p",{className:"text-sm text-primary mt-3 text-center max-w-sm",children:"Scan this QR code with your phone camera to join instantly"}),u.jsxs("p",{className:"text-xs text-secondary mt-2",children:["Or manually enter code: ",u.jsx("span",{className:"font-mono font-bold",children:t})]}),u.jsx("button",{onClick:()=>c(!1),className:"mt-3 text-green-400 hover:text-green-300 font-semibold text-sm",children:"Hide QR Code"})]})}),y?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/50 rounded-lg p-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Best of 3 Games"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:u.jsx("p",{className:"font-semibold text-lg text-green-400",children:d.name})}),u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:u.jsx("p",{className:"font-semibold text-lg text-green-400",children:f.name})})]})]}),u.jsx("div",{className:"space-y-4",children:[1,2,3].map(F=>{var q,oe,re,Ee,Ge,Ve;return u.jsxs("div",{className:"game-card",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 text-white",children:["Game ",F]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:d.name}),u.jsx("input",{type:"number",value:((q=p[`game${F}`])==null?void 0:q.player1)??"",onChange:Je=>Oe(F,1,Je.target.value),placeholder:"Score",className:"w-full game-input text-center text-lg font-bold",min:"0",max:"300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:f.name}),u.jsx("input",{type:"number",value:((oe=p[`game${F}`])==null?void 0:oe.player2)??"",onChange:Je=>Oe(F,2,Je.target.value),placeholder:"Score",className:"w-full game-input text-center text-lg font-bold",min:"0",max:"300"})]})]}),((re=p[`game${F}`])==null?void 0:re.player1)!==null&&((Ee=p[`game${F}`])==null?void 0:Ee.player1)!==void 0&&((Ge=p[`game${F}`])==null?void 0:Ge.player2)!==null&&((Ve=p[`game${F}`])==null?void 0:Ve.player2)!==void 0&&u.jsx("div",{className:"mt-3 text-center",children:p[`game${F}`].player1>p[`game${F}`].player2?u.jsxs("p",{className:"text-green-400 font-semibold",children:[" ",d.name," wins (+$",C.perGame,")"]}):p[`game${F}`].player2>p[`game${F}`].player1?u.jsxs("p",{className:"text-green-400 font-semibold",children:[" ",f.name," wins (+$",C.perGame,")"]}):u.jsx("p",{className:"text-primary font-semibold",children:"Tie"})})]},F)})}),u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-green-900/30 rounded-lg p-4 border-2 border-green-600",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx($t,{className:"text-green-400",size:24}),"Totals"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[u.jsx("p",{className:"text-sm text-primary mb-1",children:d.name}),u.jsx("p",{className:"text-3xl font-bold text-green-400",children:L.player1})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[u.jsx("p",{className:"text-sm text-primary mb-1",children:f.name}),u.jsx("p",{className:"text-3xl font-bold text-green-400",children:L.player2})]})]}),J&&u.jsx("div",{className:"mt-3 text-center",children:L.player1>L.player2?u.jsxs("p",{className:"text-green-400 font-semibold text-lg",children:[" ",d.name," wins totals (+$",C.totals,")"]}):L.player2>L.player1?u.jsxs("p",{className:"text-green-400 font-semibold text-lg",children:[" ",f.name," wins totals (+$",C.totals,")"]}):u.jsx("p",{className:"text-primary font-semibold text-lg",children:"Totals tied"})})]}),J&&u.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 rounded-lg p-4 border-2 border-green-500",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx(Gs,{className:"text-green-400",size:24}),"Final Payout"]}),u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:z.player1>0?u.jsxs("p",{className:"text-center text-xl font-bold text-green-400",children:[d.name," wins $",Math.abs(z.player1).toFixed(2)]}):z.player2>0?u.jsxs("p",{className:"text-center text-xl font-bold text-green-400",children:[f.name," wins $",Math.abs(z.player2).toFixed(2)]}):u.jsx("p",{className:"text-center text-xl font-bold text-primary",children:"Match tied - No payout"})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:ne,className:"flex-1 btn-primary-green",children:"Reset Scores"}),u.jsx("button",{onClick:R,className:"flex-1 btn-secondary",children:"Leave Match"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:u.jsxs("p",{className:"text-green-300",children:["Share code ",u.jsx("span",{className:"font-mono font-bold text-xl",children:t})," with your opponent!"]})}),u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx(Gs,{className:"text-green-400",size:20}),"Stakes"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Per Game"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2 text-primary",children:"$"}),u.jsx("input",{type:"number",value:C.perGame,onChange:F=>ke("perGame",F.target.value),className:"game-input",min:"0",step:"0.5"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Totals"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2 text-primary",children:"$"}),u.jsx("input",{type:"number",value:C.totals,onChange:F=>ke("totals",F.target.value),className:"game-input",min:"0",step:"0.5"})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Player 1"}),u.jsx("input",{type:"text",value:d.name,onChange:F=>Y(1,F.target.value),placeholder:"Enter Player 1's Name",className:"w-full game-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Player 2"}),u.jsx("input",{type:"text",value:f.name,onChange:F=>Y(2,F.target.value),placeholder:"Enter Player 2's Name",className:"w-full game-input"})]})]}),u.jsx("button",{onClick:Ne,disabled:!d.name||!f.name,className:"w-full btn-primary-green text-xl disabled:bg-gray-300 disabled:cursor-not-allowed disabled:opacity-50",children:!d.name||!f.name?"Enter both player names":"Start Match"})]})]})})})]}):u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",left:"30%",backgroundColor:"rgb(34, 197, 94)"}}),u.jsx("div",{className:"game-content flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full game-card",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-600 flex items-center justify-center shadow-lg shadow-emerald-500/50",children:u.jsx($t,{size:24,className:"text-white sm:w-7 sm:h-7"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text-green",children:"Match Play"})]}),u.jsx("p",{className:"text-center text-primary mb-8 text-sm sm:text-base",children:"Head-to-Head Bowling Match"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:M,className:"w-full btn-primary-green flex items-center justify-center gap-2 text-lg sm:text-xl",children:[u.jsx(sm,{size:24}),"Create New Match"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-slate-900/50 text-secondary",children:"OR"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",value:n,onChange:F=>r(F.target.value.toUpperCase()),onKeyDown:F=>F.key==="Enter"&&K(),placeholder:"Enter Game Code",className:"w-full game-input text-center text-lg font-mono",maxLength:6}),u.jsx("button",{onClick:K,className:"w-full btn-primary-green text-lg sm:text-xl",children:"Join Match"})]})]})]})})]})}function TC(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[d,h]=A.useState([]),[f,v]=A.useState(""),[y,w]=A.useState(!1),[E,_]=A.useState(1),[p,g]=A.useState({game1:{},game2:{},game3:{}}),[C]=A.useState(5),[I]=A.useState(1),[P]=A.useState(2),j=()=>`${window.location.origin+window.location.pathname}?join=${t}`,M=()=>Math.random().toString(36).substring(2,8).toUpperCase();A.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("join");x&&r(x.toUpperCase())},[]),A.useEffect(()=>{if(!t)return;const m=Pe(je,`kingofthehill/${t}`),x=fl(m,N=>{const S=N.val();S&&(h(S.players||[]),w(S.gameStarted||!1),_(S.currentGame||1),g(S.scores||{game1:{},game2:{},game3:{}}))});return()=>x()},[t]);const K=()=>{const m=M();e(m),i(!0),a(!0);const x=Pe(je,`kingofthehill/${m}`);Mt(x,{players:[],gameStarted:!1,currentGame:1,scores:{game1:{},game2:{},game3:{}},createdAt:Date.now()})},U=async()=>{if(!n.trim())return;const m=n.toUpperCase(),x=Pe(je,`kingofthehill/${m}`);(await Bt(x)).exists()?(e(m),i(!1),a(!0)):alert("Game not found! Check the code and try again.")},Y=async m=>{if(t)try{const x=Pe(je,`kingofthehill/${t}`),S=(await Bt(x)).val()||{};await Mt(x,{...S,...m})}catch(x){console.error("Error updating game:",x)}},Ne=()=>{if(f.trim()&&!y){const m=[...d,{id:Date.now(),name:f.trim()}];Y({players:m}),v("")}},Oe=()=>{d.length>=2&&Y({gameStarted:!0,currentGame:1})},ke=async(m,x,N)=>{if(!t){console.log("No game code");return}console.log("Updating score:",{gameNum:m,playerId:x,score:N});try{const S=Pe(je,`kingofthehill/${t}`),b=(await Bt(S)).val();if(console.log("Current data:",b),!b){console.error("No current data found");return}const $=JSON.parse(JSON.stringify(b.scores||{})),be=`game${m}`;$[be]||($[be]={}),$[be][x]=N===""?null:parseInt(N),console.log("New scores:",$),await Mt(S,{...b,scores:$}),console.log("Score updated successfully")}catch(S){console.error("Error updating score:",S),alert("Error updating score: "+S.message)}},we=(m,x)=>{var N;return((N=p==null?void 0:p[`game${m}`])==null?void 0:N[x])??""},ye=m=>{const x=(p==null?void 0:p[`game${m}`])||{},N=Object.entries(x).filter(([b,$])=>$!=null).map(([b,$])=>({playerId:parseInt(b),score:$}));if(N.length===0)return null;const S=Math.max(...N.map(b=>b.score)),O=N.filter(b=>b.score===S);return{score:S,playerIds:O.map(b=>b.playerId)}},ne=()=>{const m={};return d.forEach(x=>{var b,$,be;const N=((b=p==null?void 0:p.game1)==null?void 0:b[x.id])||0,S=(($=p==null?void 0:p.game2)==null?void 0:$[x.id])||0,O=((be=p==null?void 0:p.game3)==null?void 0:be[x.id])||0;m[x.id]=N+S+O}),m},R=()=>{const m=ne(),x=Object.entries(m).filter(([O,b])=>b>0).map(([O,b])=>({playerId:parseInt(O),total:b}));if(x.length===0)return null;const N=Math.max(...x.map(O=>O.total)),S=x.filter(O=>O.total===N);return{total:N,playerIds:S.map(O=>O.playerId)}},L=()=>{const m={};d.forEach(b=>{m[b.id]=-C});const x=ye(1);if(x&&x.playerIds.length>0){const b=d.length*I/x.playerIds.length;x.playerIds.forEach($=>{m[$]+=b})}const N=ye(2);if(N&&N.playerIds.length>0){const b=d.length*I/N.playerIds.length;N.playerIds.forEach($=>{m[$]+=b})}const S=ye(3);if(S&&S.playerIds.length>0){const b=d.length*I/S.playerIds.length;S.playerIds.forEach($=>{m[$]+=b})}const O=R();if(O&&O.playerIds.length>0){const b=d.length*P/O.playerIds.length;O.playerIds.forEach($=>{m[$]+=b})}return m},z=()=>{Y({scores:{game1:{},game2:{},game3:{}},currentGame:1})},J=()=>{a(!1),e(""),r(""),i(!1)},ee=ne(),se=L(),Ie=d.length>0&&d.every(m=>{var x,N,S,O,b,$;return((x=p==null?void 0:p.game1)==null?void 0:x[m.id])!==null&&((N=p==null?void 0:p.game1)==null?void 0:N[m.id])!==void 0&&((S=p==null?void 0:p.game2)==null?void 0:S[m.id])!==null&&((O=p==null?void 0:p.game2)==null?void 0:O[m.id])!==void 0&&((b=p==null?void 0:p.game3)==null?void 0:b[m.id])!==null&&(($=p==null?void 0:p.game3)==null?void 0:$[m.id])!==void 0});return o?u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",right:"30%",backgroundColor:"rgb(168, 85, 247)"}}),u.jsx("div",{className:"game-content",children:u.jsx("div",{className:"game-max-width",children:u.jsxs("div",{className:"game-card",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-amber-500 via-orange-500 to-red-600 flex items-center justify-center shadow-lg shadow-amber-500/50",children:u.jsx(ps,{size:20,className:"text-white sm:w-6 sm:h-6"})}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text-purple",children:"King of the Hill"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"info-box",children:[u.jsx("span",{className:"text-xs sm:text-sm text-primary",children:"Code:"}),u.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg ml-2 text-white",children:t})]}),u.jsx("button",{onClick:()=>c(!l),className:"btn-primary-purple p-2",title:"Show QR code to join",children:u.jsx(el,{size:20})})]})]}),l&&u.jsx("div",{className:"mb-6 bg-slate-800/50 border-2 border-slate-700 rounded-lg p-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Scan to Join Game"}),u.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg shadow-lg",children:u.jsx(li,{value:j(),size:200,level:"H",includeMargin:!0})}),u.jsx("p",{className:"text-sm text-primary mt-3 text-center max-w-sm",children:"Scan this QR code with your phone camera to join instantly"}),u.jsxs("p",{className:"text-xs text-secondary mt-2",children:["Or manually enter code: ",u.jsx("span",{className:"font-mono font-bold",children:t})]}),u.jsx("button",{onClick:()=>c(!1),className:"mt-3 text-purple-400 hover:text-purple-300 font-semibold text-sm",children:"Hide QR Code"})]})}),y?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-purple-900/30 rounded-lg p-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white text-center mb-3",children:"3-Game Series"}),u.jsxs("p",{className:"text-center text-sm text-primary",children:["High score each game wins $",I," per player"]}),u.jsxs("p",{className:"text-center text-sm text-primary",children:["High total wins $",P," per player"]})]}),u.jsx("div",{className:"space-y-4",children:[1,2,3].map(m=>{const x=ye(m);return u.jsxs("div",{className:"game-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{className:"font-bold text-lg text-white",children:["Game ",m]}),x&&u.jsxs("span",{className:"text-sm text-purple-400 font-semibold flex items-center gap-1",children:[u.jsx(ps,{size:16}),"High: ",x.score]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(N=>{const S=x&&x.playerIds.includes(N.id);return u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-primary mb-1",children:N.name}),u.jsx("input",{type:"number",value:we(m,N.id),onChange:O=>ke(m,N.id,O.target.value),placeholder:"Score",className:`w-full game-input text-center text-lg font-bold ${S?"border-purple-400 bg-purple-900/30 text-purple-300":""}`,min:"0",max:"300"}),S&&u.jsx("p",{className:"text-xs text-purple-400 font-semibold mt-1 text-center",children:" Winner"})]},N.id)})})]},m)})}),u.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-purple-900/30 rounded-lg p-4 border-2 border-purple-600",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx($t,{className:"text-purple-400",size:24}),"Total Pins"]}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(m=>{const x=R(),N=x&&x.playerIds.includes(m.id);return u.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-3 border ${N?"ring-2 ring-purple-400 border-purple-500":"border-slate-700"}`,children:[u.jsx("p",{className:"text-xs text-primary mb-1",children:m.name}),u.jsxs("p",{className:`text-2xl font-bold ${N?"text-purple-400":"text-white"}`,children:[ee[m.id]||0,N&&" "]})]},m.id)})})]}),Ie&&u.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 rounded-lg p-4 border-2 border-green-500",children:[u.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx(Gs,{className:"text-green-400",size:24}),"Final Payouts"]}),u.jsx("div",{className:"space-y-2",children:d.sort((m,x)=>se[x.id]-se[m.id]).map((m,x)=>{const N=se[m.id],S=N>0,O=N<0;return u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 flex justify-between items-center border border-slate-700",children:[u.jsxs("span",{className:"font-semibold text-white",children:[x===0&&N>0&&" ",m.name]}),u.jsxs("span",{className:`font-bold text-lg ${S?"text-green-400":O?"text-red-400":"text-primary"}`,children:[S?"+":"",N>=0?"$"+N.toFixed(2):"-$"+Math.abs(N).toFixed(2)]})]},m.id)})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:z,className:"flex-1 btn-primary-purple",children:"Reset Scores"}),u.jsx("button",{onClick:J,className:"flex-1 btn-secondary",children:"Leave Game"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx(Gs,{className:"text-green-400",size:20}),"Prize Structure"]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 space-y-2 text-sm",children:[u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"Entry Fee:"}),u.jsxs("span",{className:"font-bold text-red-400",children:["$",C]})]}),u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"High Game 1:"}),u.jsxs("span",{className:"font-bold text-green-400",children:["$",I," per player"]})]}),u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"High Game 2:"}),u.jsxs("span",{className:"font-bold text-green-400",children:["$",I," per player"]})]}),u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"High Game 3:"}),u.jsxs("span",{className:"font-bold text-green-400",children:["$",I," per player"]})]}),u.jsxs("p",{className:"flex justify-between border-t border-slate-700 pt-2",children:[u.jsx("span",{className:"text-primary font-semibold",children:"High Totals:"}),u.jsxs("span",{className:"font-bold text-purple-400",children:["$",P," per player"]})]})]})]}),u.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:u.jsxs("p",{className:"text-purple-300",children:["Share code ",u.jsx("span",{className:"font-mono font-bold text-xl",children:t})," with friends or show them the QR code!"]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("input",{type:"text",value:f,onChange:m=>v(m.target.value),onKeyDown:m=>m.key==="Enter"&&Ne(),placeholder:"Enter Player's Name",className:"game-input"}),u.jsxs("button",{onClick:Ne,className:"btn-primary-purple flex items-center justify-center gap-2",children:[u.jsx(ou,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Add Player"}),u.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),d.length>0&&u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 text-white",children:["Players (",d.length,")"]}),u.jsx("div",{className:"space-y-2",children:d.map(m=>u.jsxs("div",{className:"bg-slate-800/50 px-4 py-2 rounded-lg shadow flex justify-between items-center border border-slate-700",children:[u.jsx("span",{className:"text-white",children:m.name}),u.jsxs("span",{className:"text-sm text-red-400 font-semibold",children:["$",C," in"]})]},m.id))}),u.jsx("div",{className:"mt-3 bg-purple-900/30 border border-purple-700 rounded p-2 text-center",children:u.jsxs("p",{className:"text-sm text-primary",children:["Prize Pool: ",u.jsxs("span",{className:"font-bold text-green-400",children:["$",d.length*C]})]})})]}),u.jsx("button",{onClick:Oe,disabled:d.length<2,className:"w-full btn-primary-purple text-xl disabled:bg-gray-300 disabled:cursor-not-allowed disabled:opacity-50",children:d.length<2?"Need at least 2 players":"Start Game"})]})]})})})]}):u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",left:"30%",backgroundColor:"rgb(168, 85, 247)"}}),u.jsx("div",{className:"game-content flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full game-card",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-gradient-to-br from-amber-500 via-orange-500 to-red-600 flex items-center justify-center shadow-lg shadow-amber-500/50",children:u.jsx(ps,{size:24,className:"text-white sm:w-7 sm:h-7"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text-purple",children:"King of the Hill"})]}),u.jsx("p",{className:"text-center text-primary mb-8 text-sm sm:text-base",children:"Battle for the highest scores!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:K,className:"w-full btn-primary-purple flex items-center justify-center gap-2 text-lg sm:text-xl",children:[u.jsx(ps,{size:20,className:"sm:w-6 sm:h-6"}),"Create New Game"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-slate-900/50 text-secondary",children:"OR"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value.toUpperCase()),onKeyDown:m=>m.key==="Enter"&&U(),placeholder:"Enter Game Code",className:"w-full game-input text-center text-lg font-mono",maxLength:6}),u.jsx("button",{onClick:U,className:"w-full btn-primary-purple text-lg sm:text-xl",children:"Join Game"})]})]})]})})]})}function RC(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),[d,h]=A.useState([]),[f,v]=A.useState(""),[y,w]=A.useState(!1),[E,_]=A.useState({quarterfinals:[],semifinals:[],finals:null,champion:null}),[p,g]=A.useState({}),[C]=A.useState(5),[I,P]=A.useState(0),[j]=A.useState(10),M=()=>`${window.location.origin+window.location.pathname}?join=${t}`,K=()=>Math.random().toString(36).substring(2,8).toUpperCase();A.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("join");x&&r(x.toUpperCase())},[]),A.useEffect(()=>{const x=d.length*C-j;P(x)},[d.length,C,j]),A.useEffect(()=>{if(!t)return;const m=Pe(je,`bracketplay/${t}`),x=fl(m,N=>{const S=N.val();S&&(h(S.players||[]),w(S.gameStarted||!1),_(S.matches||{quarterfinals:[],semifinals:[],finals:null,champion:null}),g(S.scores||{}))});return()=>x()},[t]);const U=()=>{const m=K();e(m),i(!0),a(!0);const x=Pe(je,`bracketplay/${m}`);Mt(x,{players:[],gameStarted:!1,matches:{quarterfinals:[],semifinals:[],finals:null,champion:null},scores:{},createdAt:Date.now()})},Y=async()=>{if(!n.trim())return;const m=n.toUpperCase(),x=Pe(je,`bracketplay/${m}`);(await Bt(x)).exists()?(e(m),i(!1),a(!0)):alert("Game not found! Check the code and try again.")},Ne=async m=>{if(t)try{const x=Pe(je,`bracketplay/${t}`),S=(await Bt(x)).val()||{};await Mt(x,{...S,...m})}catch(x){console.error("Error updating game:",x)}},Oe=async()=>{if(f.trim()&&!y&&d.length<8){const m=[...d,{id:Date.now(),name:f.trim()}];await Ne({players:m}),v("")}},ke=m=>{const x=[...m];for(let N=x.length-1;N>0;N--){const S=Math.floor(Math.random()*(N+1));[x[N],x[S]]=[x[S],x[N]]}return x},we=async()=>{if(d.length!==8){console.error("Need exactly 8 players to start tournament");return}try{const m=ke(d);if(console.log("Shuffled players:",m),!m.every(N=>N&&N.id&&N.name)){console.error("Invalid player data:",m),alert("Error: Invalid player data. Please refresh and try again.");return}const x=[{id:"qf1",player1:m[0],player2:m[1],winner:null},{id:"qf2",player1:m[2],player2:m[3],winner:null},{id:"qf3",player1:m[4],player2:m[5],winner:null},{id:"qf4",player1:m[6],player2:m[7],winner:null}];console.log("Created quarterfinals:",x),await Ne({gameStarted:!0,matches:{quarterfinals:x,semifinals:[],finals:null,champion:null},scores:{}}),console.log("Tournament started successfully")}catch(m){console.error("Error starting tournament:",m),alert("Failed to start tournament. Check console for details.")}},ye=async(m,x,N)=>{const S={...p},O=`${m}_${x}`;if(N==="")S[O]="";else{const b=parseInt(N,10);if(!isNaN(b)&&b>=0&&b<=300)S[O]=b;else return}g(S);try{await Ne({scores:S})}catch(b){console.error("Failed to save score:",b)}},ne=(m,x)=>{const N=`${m}_${x}`;return p[N]??""},R=(m,x,N)=>{const S=ne(m,x),O=ne(m,N),b=typeof S=="number"?S:parseInt(S,10),$=typeof O=="number"?O:parseInt(O,10),be=!isNaN(b)&&b>=0,ft=!isNaN($)&&$>=0;return console.log(`isMatchComplete(${m}): p1Score=${S}, p2Score=${O}, p1Valid=${be}, p2Valid=${ft}, result=${be&&ft}`),be&&ft},L=async m=>{const x={...E};if(m==="quarterfinals")x.quarterfinals=x.quarterfinals.map(N=>{const S=ne(N.id,N.player1.id),O=ne(N.id,N.player2.id),b=S>O?N.player1:N.player2;return{...N,winner:b}}),x.semifinals=[{id:"sf1",player1:x.quarterfinals[0].winner,player2:x.quarterfinals[1].winner,winner:null},{id:"sf2",player1:x.quarterfinals[2].winner,player2:x.quarterfinals[3].winner,winner:null}];else if(m==="semifinals")x.semifinals=x.semifinals.map(N=>{const S=ne(N.id,N.player1.id),O=ne(N.id,N.player2.id),b=S>O?N.player1:N.player2;return{...N,winner:b}}),x.finals={id:"final",player1:x.semifinals[0].winner,player2:x.semifinals[1].winner,winner:null};else if(m==="finals"){const N=x.finals,S=ne(N.id,N.player1.id),O=ne(N.id,N.player2.id),b=S>O?N.player1:N.player2;x.finals.winner=b,x.champion=b}await Ne({matches:x})},z=m=>!m||m.length===0?!1:m.every(x=>x&&x.player1&&x.player2&&R(x.id,x.player1.id,x.player2.id)),J=async()=>{await Ne({matches:{quarterfinals:[],semifinals:[],finals:null,champion:null},scores:{},gameStarted:!1})},ee=()=>{a(!1),e(""),r(""),i(!1)},se=(m,x)=>{var ft,F,q,oe;if(!m||!m.player1||!m.player2)return null;const N=ne(m.id,m.player1.id),S=ne(m.id,m.player2.id),O=R(m.id,m.player1.id,m.player2.id),b=m.winner!==null;console.log(`${m.id}: p1Score=${N} (${typeof N}), p2Score=${S} (${typeof S}), isComplete=${O}, hasWinner=${b}`);const $=O&&N>S,be=O&&S>N;return u.jsxs("div",{className:"game-card",children:[u.jsx("h4",{className:"font-bold text-sm text-center mb-3 text-orange-400",children:m.id.toUpperCase()}),u.jsxs("div",{className:`mb-3 p-3 rounded-lg ${b&&((ft=m.winner)==null?void 0:ft.id)===m.player1.id?"bg-green-900/30 border-2 border-green-500":$&&!b?"bg-orange-900/30 border-2 border-orange-400":"bg-slate-800/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-bold text-sm text-white",children:m.player1.name||"Player 1"}),b&&((F=m.winner)==null?void 0:F.id)===m.player1.id&&u.jsx($t,{className:"text-orange-400",size:16}),!b&&$&&u.jsx("span",{className:"text-green-400 font-bold text-xs",children:"LEADING"})]}),u.jsx("input",{type:"text",name:`${m.id}_player1_score`,inputMode:"numeric",pattern:"[0-9]*",value:N===""?"":N,onChange:re=>{const Ee=re.target.value;(Ee===""||/^\d+$/.test(Ee))&&ye(m.id,m.player1.id,Ee)},placeholder:"Score",className:"w-full game-input text-center text-xl font-bold"})]}),u.jsx("div",{className:"text-center text-xs font-bold text-secondary mb-3",children:"VS"}),u.jsxs("div",{className:`mb-3 p-3 rounded-lg ${b&&((q=m.winner)==null?void 0:q.id)===m.player2.id?"bg-green-900/30 border-2 border-green-500":be&&!b?"bg-orange-900/30 border-2 border-orange-400":"bg-slate-800/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-bold text-sm text-white",children:m.player2.name||"Player 2"}),b&&((oe=m.winner)==null?void 0:oe.id)===m.player2.id&&u.jsx($t,{className:"text-orange-400",size:16}),!b&&be&&u.jsx("span",{className:"text-green-400 font-bold text-xs",children:"LEADING"})]}),u.jsx("input",{type:"text",name:`${m.id}_player2_score`,inputMode:"numeric",pattern:"[0-9]*",value:S===""?"":S,onChange:re=>{const Ee=re.target.value;(Ee===""||/^\d+$/.test(Ee))&&ye(m.id,m.player2.id,Ee)},placeholder:"Score",className:"w-full game-input text-center text-xl font-bold"})]}),!b&&!O&&u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:u.jsx("p",{className:"text-xs text-secondary",children:"Enter both scores"})}),!b&&O&&u.jsx("div",{className:"bg-green-900/30 border border-green-500 rounded-lg p-2 text-center",children:u.jsxs("p",{className:"text-xs font-bold text-green-400",children:[" Winner: ",N>S?m.player1.name:m.player2.name]})}),b&&m.winner&&u.jsx("div",{className:"bg-green-900/30 border-2 border-green-500 rounded-lg p-2 text-center",children:u.jsxs("p",{className:"text-xs font-bold text-green-400",children:[" ",m.winner.name," advances to next round!"]})})]})},Ie=E.finals&&E.finals.winner?E.finals.winner.id===E.finals.player1.id?E.finals.player2:E.finals.player1:null;return o?u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",right:"30%",backgroundColor:"rgb(249, 115, 22)"}}),u.jsx("div",{className:"game-content",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"game-card",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-600 flex items-center justify-center shadow-lg shadow-violet-500/50",children:u.jsx(Ha,{size:20,className:"text-white sm:w-6 sm:h-6"})}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold gradient-text-orange",children:"Bracket Play"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"info-box",children:[u.jsx("span",{className:"text-xs sm:text-sm text-primary",children:"Code:"}),u.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg ml-2 text-white",children:t})]}),u.jsx("button",{onClick:()=>c(!l),className:"btn-primary-orange p-2",title:"Show QR code to join",children:u.jsx(el,{size:20})})]})]}),l&&u.jsx("div",{className:"mb-6 bg-slate-800/50 border-2 border-slate-700 rounded-lg p-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Scan to Join Tournament"}),u.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg shadow-lg",children:u.jsx(li,{value:M(),size:200,level:"H",includeMargin:!0})}),u.jsx("p",{className:"text-sm text-primary mt-3 text-center max-w-sm",children:"Scan this QR code with your phone camera to join instantly"}),u.jsxs("p",{className:"text-xs text-secondary mt-2",children:["Or manually enter code: ",u.jsx("span",{className:"font-mono font-bold",children:t})]}),u.jsx("button",{onClick:()=>c(!1),className:"mt-3 text-orange-400 hover:text-orange-300 font-semibold text-sm",children:"Hide QR Code"})]})}),y?u.jsxs("div",{className:"space-y-6",children:[E.champion&&u.jsxs("div",{className:"bg-gradient-to-r from-orange-900/30 to-amber-900/30 rounded-lg p-6 border-2 border-orange-500",children:[u.jsxs("h2",{className:"text-3xl font-bold text-center mb-4 flex items-center justify-center gap-2 text-white",children:[u.jsx($t,{className:"text-orange-400",size:40}),"Tournament Champion!"]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 mb-4 border border-slate-700",children:[u.jsxs("p",{className:"text-center text-2xl font-bold text-green-400 mb-2",children:[" ",E.champion.name]}),u.jsxs("p",{className:"text-center text-xl font-bold text-green-400",children:["Prize: $",I]})]}),Ie&&u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[u.jsxs("p",{className:"text-center text-lg font-bold text-primary",children:[" Runner-up: ",Ie.name]}),u.jsxs("p",{className:"text-center text-md font-bold text-primary",children:["Prize: $",j]})]})]}),(E==null?void 0:E.quarterfinals)&&E.quarterfinals.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Quarterfinals"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.quarterfinals.filter(m=>m&&m.id&&m.player1&&m.player2).map(m=>u.jsx("div",{children:se(m)},m.id))}),(!E.semifinals||E.semifinals.length===0)&&z(E.quarterfinals)&&u.jsx("button",{onClick:()=>L("quarterfinals"),className:"w-full mt-6 bg-green-500 text-white py-4 rounded-lg hover:bg-green-600 transition font-bold text-xl shadow-lg",children:" Advance 4 Winners to Semifinals"})]}),(E==null?void 0:E.semifinals)&&E.semifinals.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Semifinals"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:E.semifinals.filter(m=>m&&m.id&&m.player1&&m.player2).map(m=>u.jsx("div",{children:se(m)},m.id))}),!E.finals&&z(E.semifinals)&&u.jsx("button",{onClick:()=>L("semifinals"),className:"w-full mt-6 bg-green-500 text-white py-4 rounded-lg hover:bg-green-600 transition font-bold text-xl shadow-lg",children:" Advance 2 Winners to Finals"})]}),E.finals&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-white text-center",children:" Championship Finals "}),u.jsx("div",{className:"max-w-md mx-auto",children:se(E.finals)}),!E.finals.winner&&R(E.finals.id,E.finals.player1.id,E.finals.player2.id)&&u.jsx("button",{onClick:()=>L("finals"),className:"w-full mt-6 bg-orange-500 text-white py-4 rounded-lg hover:bg-orange-600 transition font-bold text-xl shadow-lg",children:" Crown the Champion!"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:J,className:"flex-1 btn-primary-orange",children:"Reset Tournament"}),u.jsx("button",{onClick:ee,className:"flex-1 btn-secondary",children:"Leave Game"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2 text-white",children:[u.jsx(Gs,{className:"text-green-400",size:20}),"Prize Structure"]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 space-y-2 text-sm",children:[u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"Entry Fee:"}),u.jsxs("span",{className:"font-bold text-red-400",children:["$",C]})]}),u.jsxs("p",{className:"flex justify-between",children:[u.jsx("span",{className:"text-primary",children:"2nd Place:"}),u.jsxs("span",{className:"font-bold text-primary",children:["$",j]})]}),u.jsxs("p",{className:"flex justify-between border-t border-slate-700 pt-2",children:[u.jsx("span",{className:"text-primary font-semibold",children:"1st Place:"}),u.jsxs("span",{className:"font-bold text-green-400",children:["$",I]})]}),u.jsxs("p",{className:"text-xs text-secondary mt-2",children:["Total Prize Pool: $",d.length*C]})]})]}),u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Tournament Format"}),u.jsxs("ul",{className:"text-sm text-primary space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{className:"text-white",children:"Quarterfinals (Game 1):"})," 8 players compete  4 winners advance"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{className:"text-white",children:"Semifinals (Game 2):"})," 4 players compete  2 winners advance"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{className:"text-white",children:"Finals (Game 3):"})," 2 players compete  Champion crowned"]})]})]}),u.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:u.jsxs("p",{className:"text-orange-300",children:["Share code ",u.jsx("span",{className:"font-mono font-bold text-xl",children:t})," with 7 friends!"]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("input",{type:"text",value:f,onChange:m=>v(m.target.value),onKeyDown:m=>m.key==="Enter"&&Oe(),placeholder:"Enter Player's Name",className:"game-input",disabled:d.length>=8}),u.jsxs("button",{onClick:Oe,disabled:d.length>=8,className:"btn-primary-orange flex items-center justify-center gap-2 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:opacity-50",children:[u.jsx(ou,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Add Player"}),u.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),d.length>0&&u.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-3 text-white",children:["Players (",d.length,"/8)"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map((m,x)=>u.jsxs("div",{className:"bg-slate-800/50 px-4 py-2 rounded-lg shadow border border-slate-700 text-white",children:[x+1,". ",m.name]},m.id))})]}),u.jsxs("button",{onClick:we,disabled:d.length!==8,className:"w-full btn-primary-orange text-xl disabled:bg-gray-300 disabled:cursor-not-allowed disabled:opacity-50 flex items-center justify-center gap-2",children:[u.jsx(Iv,{size:20,className:"sm:w-6 sm:h-6"}),d.length!==8?`Need ${8-d.length} more player${8-d.length!==1?"s":""}`:"Start Tournament (Randomize Bracket)"]})]})]})})})]}):u.jsxs("div",{className:"game-container",children:[u.jsx("div",{className:"game-background"}),u.jsx("div",{className:"game-grid-overlay"}),u.jsx("div",{className:"game-orb",style:{top:"20%",left:"30%",backgroundColor:"rgb(249, 115, 22)"}}),u.jsx("div",{className:"game-content flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full game-card",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-600 flex items-center justify-center shadow-lg shadow-violet-500/50",children:u.jsx(Ha,{size:24,className:"text-white sm:w-7 sm:h-7"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold gradient-text-orange",children:"Bracket Play"})]}),u.jsx("p",{className:"text-center text-primary mb-8 text-sm sm:text-base",children:"8-Player Single Elimination Tournament"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:U,className:"w-full btn-primary-orange flex items-center justify-center gap-2 text-lg sm:text-xl",children:[u.jsx($t,{size:20,className:"sm:w-6 sm:h-6"}),"Create Tournament"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-slate-900/50 text-secondary",children:"OR"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value.toUpperCase()),onKeyDown:m=>m.key==="Enter"&&Y(),placeholder:"Enter Game Code",className:"w-full game-input text-center text-lg font-mono",maxLength:6}),u.jsx("button",{onClick:Y,className:"w-full btn-primary-orange text-lg sm:text-xl",children:"Join Tournament"})]})]})]})})]})}function PC(){const[t,e]=A.useState(null),[n,r]=A.useState(null),s=[{id:"makes-or-misses",name:"Makes or Misses",description:"Predict if the bowler will make or miss their shot",icon:Wa,gradient:"from-cyan-500 via-blue-500 to-indigo-600",glowColor:"shadow-cyan-500/50",badge:" Quick Play",available:!0},{id:"match-play",name:"Match Play",description:"Head-to-head 3-game match with stakes",icon:$t,gradient:"from-emerald-500 via-teal-500 to-cyan-600",glowColor:"shadow-emerald-500/50",badge:" 1v1 Battle",available:!0},{id:"king-of-the-hill",name:"King of the Hill",description:"Battle for high game and high totals prizes",icon:ps,gradient:"from-amber-500 via-orange-500 to-red-600",glowColor:"shadow-amber-500/50",badge:" Multiplayer",available:!0},{id:"bracket-play",name:"Bracket Play",description:"8-player single elimination tournament",icon:Ha,gradient:"from-violet-500 via-purple-500 to-fuchsia-600",glowColor:"shadow-violet-500/50",badge:" Tournament",available:!0}],i=a=>{s.find(c=>c.id===a).available&&e(a)},o=()=>{e(null)};return t==="makes-or-misses"?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-50 bg-white text-gray-700 px-4 py-2 rounded-lg shadow-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold",children:[u.jsx(Mi,{size:20}),"Back to Games"]}),u.jsx(IC,{})]}):t==="match-play"?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-50 bg-white text-gray-700 px-4 py-2 rounded-lg shadow-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold",children:[u.jsx(Mi,{size:20}),"Back to Games"]}),u.jsx(bC,{})]}):t==="king-of-the-hill"?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-50 bg-white text-gray-700 px-4 py-2 rounded-lg shadow-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold",children:[u.jsx(Mi,{size:20}),"Back to Games"]}),u.jsx(TC,{})]}):t==="bracket-play"?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-50 bg-white text-gray-700 px-4 py-2 rounded-lg shadow-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold",children:[u.jsx(Mi,{size:20}),"Back to Games"]}),u.jsx(RC,{})]}):u.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-slate-950",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950"}),u.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-40"}),u.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),u.jsx("div",{className:"relative z-10 min-h-screen p-6 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-7xl w-full",children:[u.jsxs("div",{className:"text-center mb-16 space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-purple-500/10 to-cyan-500/10 border border-purple-500/20 rounded-full px-6 py-2 mb-4",children:[u.jsx(bv,{className:"text-purple-400",size:18}),u.jsx("span",{className:"text-purple-300 text-sm font-semibold tracking-wide",children:"MULTIPLAYER BOWLING GAMES"})]}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 mb-4 tracking-tight",children:"BOWLING FUN"}),u.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto font-light",children:"Choose your battleground and dominate the lanes with friends"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:s.map(a=>{const l=a.icon,c=n===a.id;return u.jsxs("button",{onClick:()=>i(a.id),onMouseEnter:()=>r(a.id),onMouseLeave:()=>r(null),disabled:!a.available,className:`group relative bg-slate-900/50 backdrop-blur-sm border border-slate-800 rounded-2xl p-6 transition-all duration-500 ${a.available?"hover:scale-105 hover:border-slate-700 cursor-pointer hover:shadow-2xl":"opacity-40 cursor-not-allowed"}`,children:[c&&a.available&&u.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${a.gradient} rounded-2xl blur opacity-30 group-hover:opacity-50 transition duration-500`}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("div",{className:"bg-slate-900 border border-slate-700 px-3 py-1 rounded-full text-xs font-bold text-slate-300",children:a.badge})}),u.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-xl bg-gradient-to-br ${a.gradient} flex items-center justify-center transform ${a.available?"group-hover:scale-110 group-hover:rotate-6":""} transition-all duration-500 shadow-lg ${c?a.glowColor+" shadow-2xl":""}`,children:u.jsx(l,{size:32,className:"text-white"})}),u.jsx("h2",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:a.name}),u.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:a.description}),a.available?u.jsxs("div",{className:`flex items-center justify-center gap-2 bg-gradient-to-r ${a.gradient} px-4 py-2.5 rounded-lg text-white text-sm font-bold shadow-lg transform group-hover:shadow-xl transition-all duration-300`,children:[u.jsx(Tv,{size:16}),u.jsx("span",{children:"PLAY NOW"})]}):u.jsx("div",{className:"inline-flex items-center gap-2 bg-slate-800 text-slate-500 px-4 py-2.5 rounded-lg text-sm font-semibold",children:" Coming Soon"})]})]},a.id)})}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-center",children:[u.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800 rounded-xl px-8 py-4",children:[u.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"4"}),u.jsx("div",{className:"text-slate-500 text-sm font-semibold",children:"Game Modes"})]}),u.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800 rounded-xl px-8 py-4",children:[u.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:""}),u.jsx("div",{className:"text-slate-500 text-sm font-semibold",children:"Multiplayer Fun"})]}),u.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800 rounded-xl px-8 py-4",children:[u.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400",children:""}),u.jsx("div",{className:"text-slate-500 text-sm font-semibold",children:"Real-Time Sync"})]})]})]})})]})}rm(document.getElementById("root")).render(u.jsx(A.StrictMode,{children:u.jsx(PC,{})}));
